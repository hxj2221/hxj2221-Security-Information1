{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-cc9c13a8\"],{\"03f2\":function(e,t,a){},\"06bf\":function(e,t,a){},\"17b5\":function(e,t,a){\"use strict\";var l=a(\"c934\"),o=a.n(l);o.a},\"31c4\":function(e,t,a){\"use strict\";var l=a(\"c0e8\"),o=a.n(l);o.a},9469:function(e,t,a){\"use strict\";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[e.rolevue?a(\"div\",{staticClass:\"rolealBg\"},[a(\"headpow\"),a(\"div\",{staticClass:\"roleIptsech\"},[a(\"el-input\",{staticClass:\"roleNameIpt\",attrs:{placeholder:\"请输入内容\"},model:{value:e.search,callback:function(t){e.search=t},expression:\"search\"}}),a(\"el-button\",{staticClass:\"staffNamesch\",attrs:{icon:\"el-icon-search\"},on:{click:e.roleserch}},[e._v(\"搜索\")])],1),a(\"div\",{staticClass:\"roleTable\"},[a(\"el-table\",{attrs:{data:e.tables,\"tooltip-effect\":\"dark\",\"header-cell-style\":{background:\"#C2C5F6\"},\"cell-style\":{background:\"#fff\"}}},[a(\"el-table-column\",{attrs:{label:\"序号\",type:\"index\",index:e.indexMethod}}),a(\"el-table-column\",{attrs:{prop:\"number\",label:\"角色编号\"}}),a(\"el-table-column\",{attrs:{prop:\"title\",label:\"角色名称\"}}),a(\"el-table-column\",{attrs:{prop:\"number\",label:\"员工数量\"}}),a(\"el-table-column\",{attrs:{prop:\"user.name\",label:\"创建人员\"}}),a(\"el-table-column\",{attrs:{prop:\"create_time\",label:\"创建时间\"}}),a(\"el-table-column\",{attrs:{label:\"角色状态\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#02538C\",\"inactive-color\":\"#B9B9B9\"},on:{change:function(a){return e.changeSwitch(a,t.row,t.row.id)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,\"status\",a)},expression:\"scope.row.status\"}})]}}],null,!1,1192786292)},[e._v(\" >\")]),a(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{staticClass:\"roleEdit\",attrs:{size:\"mini\"},on:{click:function(a){return e.handleEdit(t.row.id)}}},[e._v(\"编辑\")]),a(\"el-button\",{staticClass:\"roleDel\",attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return e.delrole(t.row.id)}}},[e._v(\"删除\")])]}}],null,!1,2208038108)})],1)],1),a(\"div\",{staticClass:\"rolepag\"},[a(\"div\",{staticClass:\"block\"},[a(\"el-pagination\",{attrs:{\"current-page\":e.currentPage,\"page-sizes\":e.nums,\"page-size\":e.num,layout:\"total, sizes, prev, pager, next, jumper\",total:e.tables.length},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)])],1):e._e(),a(\"addrole\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.addrole,expression:\"addrole\"}],attrs:{listaddchild:e.addchild}}),a(\"editrole\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.editshow,expression:\"editshow\"}],attrs:{editchid:e.childedit}})],1)},o=[],s=(a(\"a434\"),a(\"ac1f\"),a(\"841c\"),a(\"4795\"),a(\"f4df\")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"addrole\"},[a(\"div\",{staticClass:\"roleaddThre\"},[a(\"span\",{staticClass:\"roleaddSpan\"},[e._v(\"新增角色信息\")]),a(\"div\",[a(\"el-button\",{staticClass:\"roleaddgr\",on:{click:e.roleaddvueyes}},[e._v(\"保存\")]),a(\"el-button\",{staticClass:\"roleaddb\",on:{click:e.roleaddvueno}},[e._v(\"返回\")])],1)]),a(\"hr\",{staticClass:\"roleaddWidhr\"}),a(\"div\",{staticClass:\"addmain\"},[a(\"el-form\",{ref:\"form\"},[a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"角色编号\",disabled:\"\"}},[a(\"el-input\",{staticClass:\"dialog-input-text\",attrs:{type:\"input\",autosize:\"\",placeholder:\"10001\",disabled:\"\"}})],1)],1),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"角色名称\",required:\"\"}},[a(\"el-input\",{staticClass:\"dialog-input-text\",attrs:{type:\"input\",autosize:\"\"},model:{value:e.roleNameipt,callback:function(t){e.roleNameipt=t},expression:\"roleNameipt\"}})],1)],1),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{staticStyle:{\"margin-top\":\"40px\"},attrs:{label:\"角色状态\"}},[a(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:e.valuestatus,callback:function(t){e.valuestatus=t},expression:\"valuestatus\"}})],1)],1),a(\"el-col\",{attrs:{span:8}})],1),a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:16}},[a(\"el-form-item\",{attrs:{label:\"角色描述\",required:\"\"}},[a(\"el-input\",{staticClass:\"dialog-input-text\",attrs:{type:\"input\",autosize:\"\",placeholder:\"请输入内容\"},model:{value:e.rolecreate,callback:function(t){e.rolecreate=t},expression:\"rolecreate\"}})],1)],1),a(\"el-col\",{attrs:{span:8}}),a(\"el-col\",{attrs:{span:8}})],1)],1)],1),a(\"div\",{staticStyle:{\"margin-top\":\"10px\"}},[a(\"p\",{staticStyle:{display:\"flex\",\"margin-left\":\"15px\",\"font-size\":\"20px\",color:\"#858bed\",\"font-weight\":\"bold\"}},[e._v(\" 查看权限 \")]),a(\"div\",{staticClass:\"role_div\",staticStyle:{width:\"50%\",\"text-align\":\"left\"}},[a(\"el-radio-group\",{on:{change:e.radiochange},model:{value:e.radio,callback:function(t){e.radio=t},expression:\"radio\"}},[a(\"el-radio\",{attrs:{label:2}},[e._v(\"本科室\")]),a(\"el-radio\",{attrs:{label:1}},[e._v(\"全部\")])],1)],1)]),a(\"div\",[a(\"p\",{staticStyle:{display:\"flex\",\"margin-left\":\"15px\",\"font-size\":\"20px\",color:\"#858bed\",\"font-weight\":\"bold\"}},[e._v(\" 权限分配 \")]),a(\"div\",{staticClass:\"roleFs\"},[a(\"div\",{staticClass:\"H-edit\"},e._l(e.powlist,(function(t){return a(\"div\",{key:t.id,staticClass:\"content\",attrs:{label:t.id}},[a(\"div\",{staticClass:\"title\"},[a(\"el-checkbox\",{attrs:{label:t.id},on:{change:e.fcheckchange},model:{value:e.fcheck,callback:function(t){e.fcheck=t},expression:\"fcheck\"}},[e._v(e._s(t.title))])],1),e._l(t._child,(function(t){return a(\"div\",{key:t.id,staticClass:\"power\",attrs:{label:t.id}},[a(\"el-checkbox\",{staticClass:\"tit\",attrs:{label:t.id},on:{change:e.vcheckchange},model:{value:e.vcheck,callback:function(t){e.vcheck=t},expression:\"vcheck\"}},[e._v(e._s(t.title))]),a(\"el-checkbox-group\",{on:{change:e.checkchange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:\"checkList\"}},e._l(t._child,(function(t,l){return a(\"el-checkbox\",{key:l,attrs:{label:t.id}},[e._v(e._s(t.title))])})),1)],1)}))],2)})),0)])])])},c=[],n=a(\"6022\"),r={props:[\"listaddchild\"],inject:[\"reload\"],data:function(){return{radio:1,rolecreate:\"\",roleNameipt:\"\",valuestatus:1,name:\"\",checked:!1,checkList:[],fcheck:[],vcheck:[],dialogVisible:!1,powlist:[]}},watch:{listaddchild:function(e){console.log(e),this.powlist=e.data}},methods:{checkchange:function(){console.log(this.checkList)},vcheckchange:function(){console.log(this.vcheck)},fcheckchange:function(){console.log(this.fcheck)},roleaddvueyes:function(){var e=this,t={title:this.roleNameipt,status:this.valuestatus,describe:this.rolecreate,rules:this.checkList+\",\"+this.vcheck+\",\"+this.fcheck,data_rule:this.radio};n[\"a\"].roleadd(t).then((function(t){if(console.log(t),\"20010\"==t.code){var a=e.$loading({lock:!0,text:\"保存中\",spinner:\"el-icon-loading\",background:\"rgba(0, 0, 0, 0.7)\"});setTimeout((function(){a.close(),e.reload()}),2e3),e.$parent.fathroleyes()}}))},radiochange:function(){console.log(this.radio)},roleaddvueno:function(){this.$parent.fathroleno()},changesonc:function(e){console.log(e)}}},d=r,u=(a(\"17b5\"),a(\"2877\")),h=Object(u[\"a\"])(d,i,c,!1,null,\"d573a42e\",null),f=h.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"addrole\"},[a(\"div\",{staticClass:\"roleaddThre\"},[a(\"span\",{staticClass:\"roleaddSpan\"},[e._v(\"编辑角色信息\")]),a(\"div\",[a(\"el-button\",{staticClass:\"roleaddgr\",on:{click:e.roleaddvueyes}},[e._v(\"保存\")]),a(\"el-button\",{staticClass:\"roleaddb\",on:{click:e.roleaddvueno}},[e._v(\"返回\")])],1)]),a(\"hr\",{staticClass:\"roleaddWidhr\"}),a(\"div\",{staticClass:\"addmain\"},[a(\"el-form\",{ref:\"form\"},[a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"角色编号\",disabled:\"\"}},[a(\"el-input\",{staticClass:\"dialog-input-text\",attrs:{type:\"input\",autosize:\"\",placeholder:\"10001\"}})],1)],1),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"角色名称\",required:\"\"}},[a(\"el-input\",{staticClass:\"dialog-input-text\",attrs:{type:\"input\",autosize:\"\"},model:{value:e.roleNameipt,callback:function(t){e.roleNameipt=t},expression:\"roleNameipt\"}})],1)],1),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{staticStyle:{\"margin-top\":\"40px\"},attrs:{label:\"角色状态\"}},[a(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:e.valuestatus,callback:function(t){e.valuestatus=t},expression:\"valuestatus\"}})],1)],1),a(\"el-col\",{attrs:{span:8}})],1),a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:16}},[a(\"el-form-item\",{attrs:{label:\"角色描述\",required:\"\"}},[a(\"el-input\",{staticClass:\"dialog-input-text\",attrs:{type:\"input\",autosize:\"\",placeholder:\"请输入内容\"},model:{value:e.rolems,callback:function(t){e.rolems=t},expression:\"rolems\"}})],1)],1),a(\"el-col\",{attrs:{span:8}}),a(\"el-col\",{attrs:{span:8}})],1)],1)],1),a(\"div\",{staticStyle:{\"margin-top\":\"10px\"}},[a(\"p\",{staticStyle:{display:\"flex\",\"margin-left\":\"15px\",\"font-size\":\"20px\",color:\"#858bed\",\"font-weight\":\"bold\"}},[e._v(\" 查看权限 \")]),a(\"div\",{staticClass:\"role_div\",staticStyle:{width:\"50%\",\"text-align\":\"left\",margin:\"20px 40px\"}},[a(\"el-radio-group\",{on:{change:e.radiochange},model:{value:e.radio,callback:function(t){e.radio=t},expression:\"radio\"}},[a(\"el-radio\",{attrs:{label:2}},[e._v(\"本科室\")]),a(\"el-radio\",{attrs:{label:1}},[e._v(\"全部\")])],1)],1)]),a(\"div\",[a(\"p\",{staticStyle:{display:\"flex\",\"margin-left\":\"15px\",\"font-size\":\"20px\",color:\"#858bed\",\"font-weight\":\"bold\"}},[e._v(\" 权限分配 \")]),a(\"div\",{staticClass:\"roleFs\"},[a(\"div\",{staticClass:\"H-edit\"},e._l(e.powlist,(function(t){return a(\"div\",{key:t.id,staticClass:\"content\",attrs:{label:t.id}},[a(\"div\",{staticClass:\"title\"},[a(\"el-checkbox\",{attrs:{label:t.id,checked:t.checked},on:{change:e.fcheckchange},model:{value:e.fcheck,callback:function(t){e.fcheck=t},expression:\"fcheck\"}},[e._v(e._s(t.title)+\" \")])],1),e._l(t._child,(function(t){return a(\"div\",{key:t.id,staticClass:\"power\",attrs:{label:t.id}},[a(\"el-checkbox\",{staticClass:\"tit\",attrs:{label:t.id,checked:t.checked},on:{change:e.vcheckchange},model:{value:e.vcheck,callback:function(t){e.vcheck=t},expression:\"vcheck\"}},[e._v(e._s(t.title))]),a(\"el-checkbox-group\",{on:{change:e.checkchange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:\"checkList\"}},e._l(t._child,(function(t,l){return a(\"el-checkbox\",{key:l,attrs:{label:t.id,checked:t.checked}},[e._v(e._s(t.title))])})),1)],1)}))],2)})),0)])])])},v=[],g={props:[\"editchid\"],inject:[\"reload\"],data:function(){return{radio:\"\",cc:0,rolems:\"\",rolecreate:\"\",roleNameipt:\"\",valuestatus:0,jkid:\"\",name:\"\",checked:!1,checkList:[],fcheck:[],vcheck:[],dialogVisible:!1,powlist:[]}},watch:{editchid:function(e){console.log(e.info),this.roleNameipt=e.info.title,this.rolems=e.info.describe,this.valuestatus=e.info.status,this.jkid=e.info.id,this.powlist=e.rule,this.radio=e.info.data_rule,console.log(this.powlist)}},methods:{checkchange:function(){console.log(this.checkList)},vcheckchange:function(){console.log(this.vcheck)},fcheckchange:function(){console.log(this.fcheck)},roleaddvueyes:function(){var e=this,t={title:this.roleNameipt,status:this.valuestatus,describe:this.rolecreate,id:this.jkid,rules:this.checkList+\",\"+this.vcheck+\",\"+this.fcheck,data_rule:this.radio};console.log(t),n[\"a\"].roleeditsqve(t).then((function(t){if(console.log(t),\"20010\"==t.code){var a=e.$loading({lock:!0,text:\"保存中\",spinner:\"el-icon-loading\",background:\"rgba(0, 0, 0, 0.7)\"});setTimeout((function(){a.close(),e.reload()}),2e3),e.$parent.fathroleyes()}}))},radiochange:function(){console.log(this.radio)},roleaddvueno:function(){this.$parent.fathroleno()},changesonc:function(e){console.log(e)}}},b=g,m=(a(\"eae3\"),Object(u[\"a\"])(b,p,v,!1,null,\"5df47177\",null)),k=m.exports,x={components:{headpow:s[\"a\"],addrole:f,editrole:k},inject:[\"reload\"],data:function(){return{rolevue:!0,addrole:!1,editshow:!1,tables:[],currentRow:[],dormitory:[],search:\"\",childedit:[],currentPage:20,total:0,page:1,pageSize:5,nums:[8,10,20],num:8,tables1:[],addchild:[]}},created:function(){var e=this;n[\"a\"].rolelist().then((function(t){console.log(t.data),e.tables=t.data}))},methods:{fathpowadd:function(){var e=this;this.rolevue=!1,this.addrole=!0,n[\"a\"].rolepowlist().then((function(t){console.log(t),e.addchild=t}))},fathroleyes:function(){var e=this;setTimeout((function(){e.addrole=!1,e.editshow=!1,e.rolevue=!0}),3e3)},fathroleno:function(){this.addrole=!1,this.editshow=!1,this.rolevue=!0},roleserch:function(){var e=this,t={title:this.search};n[\"a\"].roleserch(t).then((function(t){e.tables=e.tables1=t.data,console.log(t)}))},changeSwitch:function(e,t,a){var l={id:a,status:t.status};console.log(l),n[\"a\"].rolestatus(l).then((function(e){console.log(e)})),console.log(t.status),1==t.status?this.$message({type:\"success\",message:\"员工启用成功\"}):this.$message({type:\"success\",message:\"员工停用成功\"})},handleEdit:function(e){var t=this;this.rolevue=!1,this.editshow=!0,console.log(e);var a={id:e};console.log(a),n[\"a\"].roleedit(a).then((function(e){console.log(e),t.childedit=e,console.log(t.childedit)}))},delrole:function(e){var t=this;console.log(e);var a={id:e};console.log(a),n[\"a\"].roledel(a).then((function(e){console.log(e),t.reload()}))},indexMethod:function(e){return 1*e},handleDelete:function(e,t){var a=this;console.log(e,t),this.$confirm(\"此操作将永久删除该文件, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){a.$message({type:\"success\",message:\"删除成功!\",delete:t.splice(e,1)})}))[\"catch\"]((function(){a.$message({type:\"info\",message:\"已取消删除\"})}))},handleSizeChange:function(e){var t=this;console.log(\"每页 \".concat(e,\"条\")),this.num=e;var a={pageSize:this.num,pageNum:this.currentPage};n[\"a\"].rolelist(a).then((function(e){console.log(e),t.tables=e.data}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,console.log(\"当前页:\".concat(e));var a={pageNum:this.num,pageSize:this.currentPage};n[\"a\"].rolelist(a).then((function(e){console.log(e),t.tables=e.data}))}}},w=x,_=(a(\"dae4\"),Object(u[\"a\"])(w,l,o,!1,null,null,null));t[\"default\"]=_.exports},c0e8:function(e,t,a){},c934:function(e,t,a){},dae4:function(e,t,a){\"use strict\";var l=a(\"03f2\"),o=a.n(l);o.a},eae3:function(e,t,a){\"use strict\";var l=a(\"06bf\"),o=a.n(l);o.a},f4df:function(e,t,a){\"use strict\";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"div\",{staticClass:\"powerheadThre\"},[a(\"el-button\",{staticClass:\"powerStaff\",on:{click:e.staff}},[e._v(\"员工列表\")]),a(\"el-button\",{staticClass:\"powerDepart\",staticStyle:{\"margin-left\":\"-5px\"},on:{click:e.depart}},[e._v(\"科室列表\")]),a(\"el-button\",{staticClass:\"powerRole\",staticStyle:{\"margin-left\":\"-5px\"},on:{click:e.role}},[e._v(\"角色列表\")]),a(\"el-button\",{staticClass:\"powerRole\",staticStyle:{\"margin-left\":\"-5px\"},on:{click:e.editpow}},[e._v(\"编辑权限\")]),a(\"el-button\",{staticClass:\"powerAdd\",attrs:{icon:\"el-icon-zoom-in\"},on:{click:e.staffadd}},[e._v(\"新增\")])],1),a(\"hr\",{staticClass:\"powerWidhr\"})])},o=[],s=a(\"6022\"),i={data:function(){return{all:{},job_number:\"\"}},methods:{staffadd:function(){var e=this;s[\"a\"].getrole().then((function(t){console.log(t),e.all=t.data,e.job_number=t.data.job_number,e.bus.$emit(\"ReceiveMessage\",e.all),e.$parent.fathpowadd()}))},staff:function(){this.$router.push(\"/Staff\")},depart:function(){this.$router.push(\"/Department\")},role:function(){this.$router.push(\"/Role\")},editpow:function(){this.$router.push(\"/Edit\")}}},c=i,n=(a(\"31c4\"),a(\"2877\")),r=Object(n[\"a\"])(c,l,o,!1,null,\"0aa775a2\",null);t[\"a\"]=r.exports}}]);","extractedComments":[]}