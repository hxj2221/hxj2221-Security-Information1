{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-17d1861e\"],{\"63e0\":function(t,e,o){\"use strict\";var l=o(\"fbac\"),a=o.n(l);a.a},fbac:function(t,e,o){},ffc4:function(t,e,o){\"use strict\";o.r(e);var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"div\",[o(\"div\",{staticClass:\"H-edit\"},[o(\"div\",{staticClass:\"edit-top\"},[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.add}},[t._v(\"添加权限\")])],1),o(\"el-table\",{staticStyle:{width:\"100%\",\"margin-bottom\":\"20px\"},attrs:{data:t.tableData,\"header-cell-style\":t.getRowClass,\"row-key\":\"id\",border:\"\",\"tree-props\":{children:\"_child\",hasChildren:\"hasChildren\",id:\"id\",title:\"title\",sort:\"sort\",icon:\"icon\",name:\"name\",url:\"url\"}}},[o(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),o(\"el-table-column\",{attrs:{type:\"\",width:\"55\",prop:\"sort\",label:\"排序\"}}),o(\"el-table-column\",{attrs:{prop:\"title\",label:\"名称\",width:\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"level\",label:\"等级\",width:\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"icon\",label:\"左侧图标\"}}),o(\"el-table-column\",{attrs:{prop:\"name\",label:\"接口地址\"}}),o(\"el-table-column\",{attrs:{prop:\"url\",label:\"前端路由\"}}),o(\"el-table-column\",{attrs:{label:\"角色状态\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[o(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#02538C\",\"inactive-color\":\"#B9B9B9\"},model:{value:e.row.status,callback:function(o){t.$set(e.row,\"status\",o)},expression:\"scope.row.status\"}})]}}])}),o(\"el-table-column\",{attrs:{fixed:\"right\",label:\"操作\",width:\"400\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[o(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(o){return t.handleClick(e.row.id)}}},[t._v(\"添加子级\")]),o(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(o){return t.handleEdit(e.row.id)}}},[t._v(\"编辑\")]),o(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(o){return t.delpow(e.row.id)}}},[t._v(\"删除\")])]}}])})],1),o(\"div\",[o(\"el-dialog\",{attrs:{title:\"添加权限\",visible:t.dialogVisible,width:\"width\",\"before-close\":t.dialogeditright},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[o(\"el-form\",{ref:\"editForm\",attrs:{\"label-width\":\"80px\"}},[o(\"el-form-item\",{attrs:{prop:\"staffName\",label:\"上级\",width:\"120\"}},[o(\"el-select\",{attrs:{placeholder:\"请选择\"},on:{change:t.selchang},model:{value:t.selvalue,callback:function(e){t.selvalue=e},expression:\"selvalue\"}},[o(\"el-option\",{attrs:{label:\"作为顶级\",value:\"0\"}}),t._l(t.seldata,(function(e){return[o(\"el-option\",{key:e.id,attrs:{label:e.title,value:e.id}}),e._child?t._l(e._child,(function(t){return o(\"el-option\",{key:t.id,attrs:{label:\"|——\"+t.title,value:t.id}})})):t._e()]}))],2)],1),o(\"el-form-item\",{attrs:{label:\"排序\",width:\"100\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.powpx,callback:function(e){t.powpx=e},expression:\"powpx\"}})],1),o(\"el-form-item\",{attrs:{label:\"状态\",width:\"100\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.powstatu,callback:function(e){t.powstatu=e},expression:\"powstatu\"}})],1),o(\"el-form-item\",{attrs:{label:\"标题\",width:\"150\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.powlab,callback:function(e){t.powlab=e},expression:\"powlab\"}})],1),o(\"el-form-item\",{attrs:{label:\"图标\",width:\"120\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.powicon,callback:function(e){t.powicon=e},expression:\"powicon\"}})],1),o(\"el-form-item\",{attrs:{label:\"后端接口\",width:\"120\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.powaps,callback:function(e){t.powaps=e},expression:\"powaps\"}})],1),o(\"el-form-item\",{attrs:{label:\"前端路由\",width:\"120\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.powweb,callback:function(e){t.powweb=e},expression:\"powweb\"}})],1)],1),o(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(\"取 消\")]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.dialog}},[t._v(\"确 定\")])],1)],1)],1),o(\"div\",[o(\"el-dialog\",{attrs:{title:\"编辑权限\",visible:t.dialogedit,width:\"width\",\"before-close\":t.dialogBeforeCl},on:{\"update:visible\":function(e){t.dialogedit=e}}},[o(\"el-form\",{ref:\"editForm\",attrs:{\"label-width\":\"80px\"}},[o(\"el-form-item\",{attrs:{label:\"上级\",width:\"120\"}},[o(\"el-select\",{attrs:{placeholder:\"请选择\"},on:{change:t.selchang},model:{value:t.editselvalue,callback:function(e){t.editselvalue=e},expression:\"editselvalue\"}},[o(\"el-option\",{attrs:{label:\"作为顶级\",value:0}}),t._l(t.editseldata,(function(e){return[o(\"el-option\",{key:e.id,attrs:{label:e.title,value:e.id}}),e._child?t._l(e._child,(function(t){return o(\"el-option\",{key:t.id,attrs:{label:\"|——\"+t.title,value:t.id}})})):t._e()]}))],2)],1),o(\"el-form-item\",{attrs:{label:\"排序\",width:\"100\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.editpowpx,callback:function(e){t.editpowpx=e},expression:\"editpowpx\"}})],1),o(\"el-form-item\",{attrs:{label:\"状态\",width:\"100\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.editpowstatu,callback:function(e){t.editpowstatu=e},expression:\"editpowstatu\"}})],1),o(\"el-form-item\",{attrs:{label:\"标题\",width:\"150\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.editpowlab,callback:function(e){t.editpowlab=e},expression:\"editpowlab\"}})],1),o(\"el-form-item\",{attrs:{label:\"图标\",width:\"120\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.editpowicon,callback:function(e){t.editpowicon=e},expression:\"editpowicon\"}})],1),o(\"el-form-item\",{attrs:{label:\"后端接口\",width:\"120\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.editpowaps,callback:function(e){t.editpowaps=e},expression:\"editpowaps\"}})],1),o(\"el-form-item\",{attrs:{label:\"前端路由\",width:\"120\"}},[o(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.editpowweb,callback:function(e){t.editpowweb=e},expression:\"editpowweb\"}})],1)],1),o(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{on:{click:function(e){t.dialogedit=!1}}},[t._v(\"取 消\")]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.editdialog}},[t._v(\"确 定\")])],1)],1)],1)],1)])},a=[],i=(o(\"4e82\"),o(\"b0c0\"),o(\"6022\")),s={inject:[\"reload\"],data:function(){return{name:\"\",dialogVisible:!1,dialogedit:!1,dialogaddson:!1,tableData:[],seldata:[],selvalue:\"0\",powpx:\"\",powstatu:\"\",powlab:\"\",powicon:\"\",powaps:\"\",powweb:\"\",editseldata:[],editselvalue:2,editpowpx:\"\",editpowstatu:\"\",editpowlab:\"\",editpowicon:\"\",editpowaps:\"\",editpowweb:\"\",editid:\"\",addsonseldata:[],addsonselvalue:2,addsonpowpx:\"\",addsonpowstatu:\"\",addsonpowlab:\"\",addsonpowicon:\"\",addsonpowaps:\"\",addsonpowweb:\"\",addsonid:\"\"}},created:function(){var t=this;i[\"a\"].rulelist().then((function(e){console.log(e),t.tableData=e.data}))},methods:{selchang:function(){console.log(this.editselvalue)},dialog:function(){var t=this,e={sort:this.powpx,status:this.powstatu,title:this.powlab,icon:this.powicon,pid:this.selvalue,name:this.powaps,url:this.powweb};i[\"a\"].savepower(e).then((function(e){console.log(e),t.reload()})),this.dialogVisible=!1},add:function(){var t=this;this.dialogVisible=!0,this.selvalue=\"0\",i[\"a\"].addpower().then((function(e){console.log(e),t.seldata=e.data}))},handleEdit:function(t){var e=this;this.dialogedit=!0,console.log(t);var o={id:t};i[\"a\"].getpowid(o).then((function(t){console.log(t.data),e.editseldata=t.data.lists,e.editselvalue=t.data.info.pid,e.editpowpx=t.data.info.sort,e.editpowstatu=t.data.info.status,e.editpowlab=t.data.info.title,e.editpowicon=t.data.info.icon,e.editpowaps=t.data.info.name,e.editid=t.data.info.id,e.editpowweb=t.data.info.url}))},handleClick:function(t){var e=this;this.dialogVisible=!0,console.log(t);var o={id:t};i[\"a\"].addpower().then((function(t){console.log(t),e.seldata=t.data})),i[\"a\"].getpowid(o).then((function(t){console.log(t.data),e.addsonseldata=t.data.lists,e.addsonselvalue=t.data.info.pid,e.selvalue=t.data.info.id}))},addsondialog:function(){var t={sort:this.addsonpowpx,status:this.addsonpowstatu,name:this.addsonpowaps,icon:this.addsonpowicon,title:this.addsonpowlab,pid:this.addsonselvalue,id:this.addsonid,url:this.addsonpowweb};i[\"a\"].savepower(t).then((function(t){console.log(t)}))},editdialog:function(){var t=this,e={sort:this.editpowpx,status:this.editpowstatu,name:this.editpowaps,icon:this.editpowicon,title:this.editpowlab,pid:this.editselvalue,id:this.editid,url:this.editpowweb};console.log(e),i[\"a\"].editsavepower(e).then((function(e){console.log(e),(e.code=\"20010\")&&t.reload()})),this.dialogedit=!1},delpow:function(t){var e=this;console.log(t);var o={id:t};i[\"a\"].delpow(o).then((function(t){console.log(t),\"20010\"==t.code&&e.reload()}))},dialogeditright:function(){this.dialogVisible=!1},dialogBeforeCl:function(){this.dialogedit=!1},getRowClass:function(t){var e=t.rowIndex;return 0==e?\"background:#c2c5f6;color:#000\":\"\"}}},n=s,d=(o(\"63e0\"),o(\"2877\")),c=Object(d[\"a\"])(n,l,a,!1,null,\"4961909f\",null);e[\"default\"]=c.exports}}]);","extractedComments":[]}