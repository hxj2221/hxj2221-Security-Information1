{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\Dashboard\\components\\CoolClock.vue?vue&type=style&index=0&id=6c3b2441&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\Dashboard\\components\\CoolClock.vue","mtime":1609551113257},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouY29vbENsb2NrV3JhcCB7DQogIC8vIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IDEwMCU7DQogIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudCgjZjhmNmY1LCAjZjdmNWY0LCAjZTRlM2UyLCAjYjliOGI3KTsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQp9DQoNCg=="},{"version":3,"sources":["CoolClock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CoolClock.vue","sourceRoot":"src/views/Dashboard/components","sourcesContent":["<template>\r\n  <div class=\"coolClockWrap\">\r\n    <canvas id=\"coolClockCanvas\" :width=\"canvas.width\" :height=\"canvas.height\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, Vue } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class CoolClock extends Vue{\r\n  canvas = {\r\n    width: 300,\r\n    height: 300\r\n  }\r\n\r\n  L = 0 //基础半径\r\n  timer: any = null\r\n\r\n  drawCoolClock() {\r\n    let canvas = <any>document.getElementById(\"coolClockCanvas\")\r\n    let ctx = canvas.getContext('2d')\r\n    let [x0, y0] = [this.canvas.width / 2, this.canvas.height / 2] //获取圆心x,y\r\n    this.L = this.canvas.width / 2 - 10 //设置圆半径\r\n    let [hourMaxL, hourMinL] = [this.L, this.L - 28] //获取时刻度首位距离x0,y0位置\r\n    let [minMaxL, minMinL] = [this.L - 2, this.L - 15]\r\n    let centerL = 15\r\n    let oDate = new Date() //绑定当前时间\r\n    let oHours = oDate.getHours()\r\n    let oMin = oDate.getMinutes()\r\n    let oSen = oDate.getSeconds()\r\n    let oHoursValue = -90 + oHours * 30 + oMin / 2 //获取小时的角度\r\n    let oMinValue = -90 + oMin * 6\r\n    let oSenValue = -90 + oSen * 6\r\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height) //清除画布\r\n    this.drawHoursScale(ctx, x0, y0, 12, 9, hourMaxL, hourMinL) //绘制表盘的时钟刻度scale\r\n    this.drawHoursScale(ctx, x0, y0, 60, 3, minMaxL, minMinL) //绘制表盘分钟刻度\r\n    this.drawScaleNum(ctx, hourMinL - 25, x0, y0) //绘制12个表盘数字\r\n    this.drawTimeNeedle(ctx, x0, y0, 15, 135, oHoursValue) //绘制时针 \r\n    this.drawTimeNeedle(ctx, x0, y0, 8, minMaxL - 15, oMinValue) //绘制分针  \r\n    this.drawTimeNeedle(ctx, x0, y0, 3, minMaxL - 2, oSenValue, '#f3a829') //绘制秒针\r\n    this.drawSenDotted(ctx, '#f3a829', x0, y0, oSenValue - 180, centerL) //绘制秒针尾部\r\n    this.drawCircleCenter(ctx, x0, y0, '#f3a829', centerL) //绘制圆心\r\n  }\r\n\r\n  drawHoursScale (ctx, x0, y0, scaleNum, scaleW, maxL, minL){\r\n    for (let i=0; i<scaleNum; i++) {\r\n      let angel = -90 + i * (360 / scaleNum) //角度\r\n      let [x1, y1] = [x0 + Math.cos(angel * Math.PI / 180) * maxL, y0 + Math.sin(angel * Math.PI / 180) * maxL]\r\n      let [x2, y2] = [x0 + Math.cos(angel * Math.PI / 180) * minL, y0 + Math.sin(angel * Math.PI / 180) * minL]\r\n      ctx.save()\r\n      ctx.beginPath()\r\n      ctx.lineWidth = scaleW\r\n      ctx.lineCap = \"round\"\r\n      ctx.moveTo(x1, y1)\r\n      ctx.lineTo(x2, y2)\r\n      ctx.stroke()\r\n      ctx.closePath()\r\n      ctx.restore()\r\n    }\r\n  }\r\n\r\n  drawScaleNum(ctx, L, x0, y0) {\r\n    for (let i = 0; i < 12; i++) {\r\n      let angel = -90 + i * (360 / 12) //角度\r\n      let [x, y] = [x0 + Math.cos(angel * Math.PI / 180) * L, y0 + Math.sin(angel * Math.PI / 180) * L]\r\n      let num = i == 0 ? 12 : i\r\n      ctx.save()\r\n      ctx.beginPath()\r\n      ctx.font = \"30px Arial\"\r\n      ctx.textAlign = \"center\"\r\n      ctx.textBaseline = \"middle\"\r\n      ctx.fillText(num, x, y)\r\n      ctx.closePath()\r\n      ctx.restore()\r\n    }\r\n  }\r\n\r\n  drawTimeNeedle(ctx, x0, y0, lineW, L, angel, color = '#000') {\r\n    let [x, y] = [x0 + Math.cos(angel * Math.PI / 180) * L, y0 + Math.sin(angel * Math.PI / 180) * L]\r\n    ctx.save()\r\n    ctx.beginPath()\r\n    ctx.strokeStyle = color\r\n    ctx.lineWidth = lineW\r\n    ctx.lineCap = \"round\"\r\n    ctx.moveTo(x0, y0)\r\n    ctx.lineTo(x, y)\r\n    ctx.stroke()\r\n    ctx.closePath()\r\n    ctx.restore()\r\n  }\r\n\r\n  drawCircleCenter(ctx, x0, y0, color, L) {\r\n    ctx.save()\r\n    ctx.beginPath()\r\n    ctx.shadowBlur = 4\r\n    ctx.shadowColor = \"#000\"\r\n    ctx.fillStyle = color\r\n    ctx.arc(x0, y0, L, 0, 360 * Math.PI / 180)\r\n    ctx.fill()\r\n    ctx.closePath()\r\n    ctx.restore()\r\n  }\r\n\r\n  drawSenDotted(ctx, color, x0, y0, angel, L) {\r\n    let [x, y] = [x0 + Math.cos(angel * Math.PI / 180) * L, y0 + Math.sin(angel * Math.PI / 180) * L]\r\n    ctx.save()\r\n    ctx.beginPath()\r\n    ctx.fillStyle = color\r\n    ctx.arc(x, y, 7, 0, 360 * Math.PI / 180)\r\n    ctx.fill()\r\n    ctx.closePath()\r\n    ctx.restore()\r\n  }\r\n\r\n  private mounted() {\r\n    this.drawCoolClock()\r\n    this.timer = setInterval(() => {\r\n      this.drawCoolClock()\r\n    }, 30)\r\n  }\r\n\r\n  private beforeDestroy() {\r\n    clearInterval(this.timer)\r\n    this.timer = null\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.coolClockWrap {\r\n  // width: 100%;\r\n  height: 100%;\r\n  background: radial-gradient(#f8f6f5, #f7f5f4, #e4e3e2, #b9b8b7);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 10px;\r\n}\r\n\r\n</style>"]}]}