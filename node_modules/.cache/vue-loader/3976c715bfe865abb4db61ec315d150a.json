{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\Login\\component\\login\\index.vue?vue&type=style&index=0&id=55613fac&scoped=true&lang=less&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\Login\\component\\login\\index.vue","mtime":1610072600962},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmxvZ2luIHsNCiAgZm9udC1mYW1pbHk6IFZlcmRhbmEsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWZsb3c6IGNvbHVtbiBub3dyYXA7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2ZWU4Ow0KICAvLyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOw0KDQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgaGVpZ2h0OiAxMDAlOw0KICAvLyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uLy4uLy4uL3B1YmxpYy9pbWcvYmFja2dyb3VuZC5qcGVnJyk7DQogIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlOw0KICAmRm9ybSB7DQogICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAyMHB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDIwcHg7DQogICAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsNCiAgICBtYXJnaW46IDE4MHB4IGF1dG87DQogICAgd2lkdGg6IDUwJTsNCiAgICBoZWlnaHQ6IDcwJTsNCiAgICBwYWRkaW5nOiAzNXB4IDUwcHggMjBweCA1MHB4Ow0KICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgI2ZmZmZmZiwgI2ZmZmZmZik7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZmZmZjsNCiAgICBib3gtc2hhZG93OiAwIDAgMTBweCAjNDc0NzQ3Ow0KICB9DQogICZUaXRsZSB7DQogICAgbWFyZ2luOiAwIDAgMjBweCAwOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBmb250LXNpemU6IDEuNnJlbTsNCiAgfQ0KICAmQnV0dG9uIHsNCiAgICB3aWR0aDogNDAlOw0KICAgIGJhY2tncm91bmQ6ICM2NjZlZTg7DQogICAgYm9yZGVyOiBub25lOw0KICB9DQogICZSZW0gew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1mbG93OiByb3cgbm93cmFwOw0KICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0Ow0KICAgIG1hcmdpbi1ib3R0b206IDIwcHg7DQogICAgLy8gYm9yZGVyOiAxcHggc29saWQgcmVkDQogIH0NCiAgLmxvZ2luLWJhY2tncm91bmQgew0KICAgIHdpZHRoOiA0MCU7DQogICAgbWFyZ2luLXRvcDogMTAlOw0KICB9DQogIC5sb2dpbi1yaWdodCB7DQogICAgd2lkdGg6IDUwJTsNCiAgICAvLyAgdGV4dC1hbGlnbjogcmlnaHQ7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIG1hcmdpbi10b3A6IDMwcHg7DQogIH0NCiAgLmxvZ2luLXJpZ2h0IGgxIHsNCiAgICBtYXJnaW4tYm90dG9tOiA0MHB4Ow0KICAgIGNvbG9yOiAjMDAwOw0KICB9DQogIC5lbC1mb3JtLWl0ZW1fX2NvbnRlbnQgew0KICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTAyLCAxMTAsIDIzMiwgMC4wOTgwMzkyMTU2ODYyNzQ1KTsNCiAgfQ0KICAubG9naW5pbnB1dCB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMDIsIDExMCwgMjMyLCAwLjA5ODAzOTIxNTY4NjI3NDUpOw0KICAgIHdpZHRoOiA5MCU7DQogIH0NCiAgLnNlbGVjdG9wdGlvbiB7DQogICAgd2lkdGg6IDkwJTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEwMiwgMTEwLCAyMzIsIDAuMDk4MDM5MjE1Njg2Mjc0NSk7DQogICAgY29sb3I6IHJnYmEoMTAyLCAxMTAsIDIzMiwgMC4wOTgwMzkyMTU2ODYyNzQ1KTsNCiAgfQ0KICAuaG9zcGl0YWwtdG9wIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgdG9wOiAxMHB4Ow0KICAgIGxlZnQ6IDEwcHg7DQogICAgd2lkdGg6IDQzcHg7DQogICAgaGVpZ2h0OiAzNi45OXB4Ow0KICAgIHBhZGRpbmctdG9wOiA1cHg7DQogICAgYmFja2dyb3VuZDogcmdiKDI1NSwgMjU1LCAyNTUpOw0KICAgIGJvcmRlci1yYWRpdXM6IDE4MHB4Ow0KICB9DQoNCiAgLmxvZ2luUmVtIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICBtYXJnaW46IDEwcHggMzBweCAyMHB4Ow0KICAgIG1hcmdpbi10b3A6IDgwcHg7DQogIH0NCiAgLmltZ2NvZGUgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBsZWZ0OiAyNXB4Ow0KICAgIC8vIHdpZHRoOiAxMjBweDsNCiAgfQ0KICAuY29kZWlucHV0IHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgcmlnaHQ6IDI1cHg7DQogICAgd2lkdGg6IDQwJTsNCiAgfQ0KICAuY2xpY2tjb2Rlew0KICAgIGZvbnQtc2l6ZTo2cHg7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICBsZWZ0OiAxNTVweDsNCiAgICAgY29sb3I6ICM2NjZlZTg7DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login/component/login","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div class=\"hospital-top\">\r\n      <img src=\"@/assets/icon/hospital.png\" alt=\"\" />\r\n    </div>\r\n    <el-form\r\n      :model=\"ruleForm\"\r\n      status-icon\r\n      ref=\"ruleForm\"\r\n      label-width=\"0px\"\r\n      class=\"loginForm\"\r\n    >\r\n      <img src=\"@/assets/icon/backgroung.png\" alt=\"\" class=\"login-background\" />\r\n      <div class=\"login-right\">\r\n        <h1 class=\"loginTitle\">医疗安全信息管理系统</h1>\r\n        <el-form-item prop=\"name\">\r\n          <el-input\r\n            type=\"text\"\r\n            class=\"logininput\"\r\n            v-model=\"ruleForm.account\"\r\n            placeholder=\"请输入账号\"\r\n            autocomplete=\"off\"\r\n            prefix-icon=\"el-icon-s-custom\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"pass\">\r\n          <el-input\r\n            type=\"password\"\r\n            class=\"logininput\"\r\n            v-model=\"ruleForm.password\"\r\n            placeholder=\"请输入密码\"\r\n            autocomplete=\"off\"\r\n            prefix-icon=\"iconfont el-icon-hospital-passwordmima\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"pass\">\r\n          <!-- <el-input type=\"select\" v-model=\"ruleForm.hospital\" placeholder=\"请输入密码\" autocomplete=\"off\" prefix-icon=\"el-icon-office-building\"></el-input> -->\r\n          <!-- <el-select\r\n            v-model=\"ruleForm.hospital\"\r\n            placeholder=\"请选择所属医院\"\r\n            prefix-icon=\"el-icon-office-building\"\r\n            class=\"selectoption\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.name\"\r\n            ></el-option>\r\n          </el-select> -->\r\n\r\n          <img\r\n            src=\"http://bt1.wlqqlp.com:8082/api/login/captcha\"\r\n             title=\"看不清？点击切换\"\r\n            @click=\"reloadcode()\"\r\n            style=\"height:40px\"\r\n            class=\"imgcode\" />\r\n           \r\n          <el-input\r\n            placeholder=\"请输入验证码\"\r\n            v-model=\"ruleForm.captcha\"\r\n            class=\"codeinput\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <div class=\"loginRem\">\r\n          <el-checkbox\r\n            label=\"记住密码\"\r\n            v-model=\"remember\"\r\n            class=\"loginRemcheck\"\r\n          ></el-checkbox>\r\n          <el-link :underline=\"false\" type=\"primary\" @click=\"forgetPass\"\r\n            >忘记密码</el-link\r\n          >\r\n        </div>\r\n        <!-- <div class=\"loginRem\" style=\"font-size: 0.3rem; margin-top:-15px\">\r\n        注: 两个账号对应不同的路由权限 (账号/密码:admin/admin或editor/editor)  \r\n     \r\n      </div> -->\r\n        <el-form-item>\r\n          <el-button\r\n            class=\"loginButton\"\r\n            type=\"primary\"\r\n            @click=\"submitForm('ruleForm')\"\r\n            :loading=\"logining\"\r\n            >登录</el-button\r\n          >\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport service from \"@/service/index\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport { asyncRoutes } from \"@/router/index\";\r\nimport { Login } from \"@/network/Login\";\r\n\r\nexport default {\r\n  inject: [\"reload\"],\r\n  data() {\r\n    return {\r\n      src: \"http://bt1.wlqqlp.com:8082/api/login/captcha\",\r\n      height: 0,\r\n      options: [\r\n        {\r\n          id: 1,\r\n          name: \"兰州大学第二医院\",\r\n        },\r\n      ],\r\n      logining: false,\r\n      ruleForm: {\r\n        account: \"\",\r\n        password: \"\",\r\n        captcha: \"\",\r\n      },\r\n      remember: true,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    reloadcode() {\r\n      var verifyimg = $(\".imgcode\").attr(\"src\");\r\n      $(\".imgcode\").attr(\"src\", verifyimg.replace(/\\?.*$/, \"\") + \"?\" + Math.random());\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          let params = this.ruleForm;\r\n          this.logining = true;\r\n          service.login(params).then((res) => {\r\n            console.log(params)\r\n            console.log(res)\r\n              if (res.code === 20010) {\r\n                 localStorage.setItem('token', res.data.token)\r\n                sessionStorage.setItem(\"phone\", this.ruleForm.account);\r\n                sessionStorage.setItem(\"password\", this.ruleForm.password);\r\n                this.$router.push(\"/dashboard\");\r\n                   \r\n              } else {\r\n                 this.$message({\r\n                  message: res.msg,\r\n                  type: \"error\",\r\n                  duration: 1000,\r\n                });\r\n                this.logining = false;\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              this.logining = false;\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 判断是否是移动端打开\r\n    _isMobile() {\r\n      let flag = navigator.userAgent.match(\r\n        /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i\r\n      );\r\n      return flag;\r\n    },\r\n\r\n    forgetPass() {\r\n      this.$emit(\"forgetPass\");\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if (this._isMobile()) {\r\n      this.$store.dispatch(\"app/UpdateIsFold\", true); // 移动端打开则折叠侧边栏\r\n    }\r\n  },\r\n  created() {\r\n    // this.height=document.body.clientHeight\r\n    // var heights=document.getElementsByClassName('login')\r\n    //  var div_height = window.screen.availHeight;\r\n    // $(\".login\").height(div_height);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.login {\r\n  font-family: Verdana, Arial, Helvetica, sans-serif;\r\n  font-weight: bold;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #666ee8;\r\n  // background-color: #ffffff;\r\n\r\n  position: relative;\r\n  height: 100%;\r\n  // background-image: url('../../../public/img/background.jpeg');\r\n  background-size: 100% 100%;\r\n  &Form {\r\n    -webkit-border-radius: 20px;\r\n    border-radius: 5px;\r\n    -moz-border-radius: 20px;\r\n    background-clip: padding-box;\r\n    margin: 180px auto;\r\n    width: 50%;\r\n    height: 70%;\r\n    padding: 35px 50px 20px 50px;\r\n    background-image: linear-gradient(to right, #ffffff, #ffffff);\r\n    border: 1px solid #ffffff;\r\n    box-shadow: 0 0 10px #474747;\r\n  }\r\n  &Title {\r\n    margin: 0 0 20px 0;\r\n    text-align: center;\r\n    font-size: 1.6rem;\r\n  }\r\n  &Button {\r\n    width: 40%;\r\n    background: #666ee8;\r\n    border: none;\r\n  }\r\n  &Rem {\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    align-items: flex-start;\r\n    margin-bottom: 20px;\r\n    // border: 1px solid red\r\n  }\r\n  .login-background {\r\n    width: 40%;\r\n    margin-top: 10%;\r\n  }\r\n  .login-right {\r\n    width: 50%;\r\n    //  text-align: right;\r\n    float: right;\r\n    margin-top: 30px;\r\n  }\r\n  .login-right h1 {\r\n    margin-bottom: 40px;\r\n    color: #000;\r\n  }\r\n  .el-form-item__content {\r\n    background-color: rgba(102, 110, 232, 0.0980392156862745);\r\n  }\r\n  .logininput {\r\n    background-color: rgba(102, 110, 232, 0.0980392156862745);\r\n    width: 90%;\r\n  }\r\n  .selectoption {\r\n    width: 90%;\r\n    background-color: rgba(102, 110, 232, 0.0980392156862745);\r\n    color: rgba(102, 110, 232, 0.0980392156862745);\r\n  }\r\n  .hospital-top {\r\n    position: absolute;\r\n    top: 10px;\r\n    left: 10px;\r\n    width: 43px;\r\n    height: 36.99px;\r\n    padding-top: 5px;\r\n    background: rgb(255, 255, 255);\r\n    border-radius: 180px;\r\n  }\r\n\r\n  .loginRem {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 10px 30px 20px;\r\n    margin-top: 80px;\r\n  }\r\n  .imgcode {\r\n    position: absolute;\r\n    left: 25px;\r\n    // width: 120px;\r\n  }\r\n  .codeinput {\r\n    position: absolute;\r\n    right: 25px;\r\n    width: 40%;\r\n  }\r\n  .clickcode{\r\n    font-size:6px;\r\n    position: absolute;\r\n     left: 155px;\r\n     color: #666ee8;\r\n  }\r\n}\r\n</style>\r\n"]}]}