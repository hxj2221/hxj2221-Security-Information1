{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\H-Connect\\component\\addRecord\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\H-Connect\\component\\addRecord\\index.vue","mtime":1610955952323},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQp2YXIgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOyAvLyDopoHkv53or4Hlj5bliLANCi8vIOW8leWFpWNzcw0KaW1wb3J0ICJAL3ZpZXdzL0gtQ29ubmVjdC9jb21wb25lbnQvYWRkUmVjb3JkL2Nzcy5jc3MiOw0KLy8g5byV55Soc2VydmljZQ0KaW1wb3J0IHNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlL2luZGV4IjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czoge30sDQogIGluamVjdDogWyJyZWxvYWQiXSwNCiAgcHJvcHM6IHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpbWdVcmw6ICJodHRwOi8vYnQxLndscXFscC5jb206ODA4Mi9hcGkvcmVjb3JkL3VwbG9hZF9hdHRhY2htZW50IiwNCiAgICAgIG15SGVhZGVyczogeyBBdXRob3JpemF0aW9uOiB0b2tlbiB9LA0KICAgICAgLy8g6KGo5Y2VDQogICAgICBmb3JtOiB7DQogICAgICAgIGNvbW11bmljYXRlX3RpbWU6ICIiLA0KICAgICAgICBjb21tdW5pY2F0aW9uOiAiIiwNCiAgICAgICAgZGVwYXJ0bWVudF9pZDogIiIsDQogICAgICAgIHBhdGllbnRfbmFtZTogIiIsDQogICAgICAgIGhvc3BfbmFtZTogIiIsDQogICAgICAgIG5vdGVfdGFrZXI6ICIiLA0KICAgICAgICByZWNvcmRfb2ZfY29tbXVuaWNhdGlvbjogIiIsDQogICAgICB9LA0KICAgICAgLy8g56eR5a6kDQogICAgICBkZXBMaXN0OiBbXSwNCiAgICAgIC8vIOihqOagvDEgIOmZhOS7tuS/oeaBrw0KICAgICAgdGFibGVEYXRhOiBbDQogICAgICAgIHsNCiAgICAgICAgICBpZDogIjEiLA0KICAgICAgICAgIGZpbGU6ICJoaGgiLA0KICAgICAgICAgIGZpbGVjb250ZW50OiAiaGF1aHVoaGFqa2ZkIiwNCiAgICAgICAgICBmaWxlczogIjEyMyIsDQogICAgICAgICAgZmlsZXNpemU6ICIxMjBrYiIsDQogICAgICAgICAgZGF0ZTogIjIwMTYtMDUtMDIiLA0KICAgICAgICAgIGZpbGV0eXBlOiAianBnIiwNCiAgICAgICAgICBuYW1lOiAi546L5bCP6JmOIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAiMiIsDQogICAgICAgICAgZmlsZTogImhoaCIsDQogICAgICAgICAgZmlsZWNvbnRlbnQ6ICJoYXVodWhoYWprZmQiLA0KICAgICAgICAgIGZpbGVzOiAiMTIzIiwNCiAgICAgICAgICBmaWxlc2l6ZTogIjEyMGtiIiwNCiAgICAgICAgICBkYXRlOiAiMjAxNi0wNS0wMiIsDQogICAgICAgICAgZmlsZXR5cGU6ICJqcGciLA0KICAgICAgICAgIG5hbWU6ICLnjovlsI/omY4iLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgaWQ6ICIzIiwNCiAgICAgICAgICBmaWxlOiAiaGhoIiwNCiAgICAgICAgICBmaWxlY29udGVudDogImhhdWh1aGhhamtmZCIsDQogICAgICAgICAgZmlsZXM6ICIxMjMiLA0KICAgICAgICAgIGZpbGVzaXplOiAiMTIwa2IiLA0KICAgICAgICAgIGRhdGU6ICIyMDE2LTA1LTAyIiwNCiAgICAgICAgICBmaWxldHlwZTogImpwZyIsDQogICAgICAgICAgbmFtZTogIueOi+Wwj+iZjiIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBpZDogIjQiLA0KICAgICAgICAgIGZpbGU6ICJoaGgiLA0KICAgICAgICAgIGZpbGVjb250ZW50OiAiaGF1aHVoaGFqa2ZkIiwNCiAgICAgICAgICBmaWxlczogIjEyMyIsDQogICAgICAgICAgZmlsZXNpemU6ICIxMjBrYiIsDQogICAgICAgICAgZGF0ZTogIjIwMTYtMDUtMDIiLA0KICAgICAgICAgIGZpbGV0eXBlOiAianBnIiwNCiAgICAgICAgICBuYW1lOiAi546L5bCP6JmOIiwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBjdXJyZW50UGFnZTogNCwNCiAgICAgIC8vIOihqOagvDIgIOWFs+iBlOS/oeaBrw0KICAgICAgdGFibGVEYXRhMTogW10sDQogICAgICAvLyDlvLnmoYYNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgZGlhbG9nRm9ybToge30sDQogICAgICBmaWxlTGlzdDogW10sDQogICAgICBmaWxlOiBbXSwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g57yW6L6RDQogICAgaGFuZGxlRWRpdChpbmRleCwgcm93KSB7fSwNCiAgICBoYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgew0KICAgICAgcm93LnNwbGljZShpbmRleCwgMSk7DQogICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfIiwNCiAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgfSk7DQogICAgfSwNCiAgICAvLyDliIbpobUNCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgY29uc29sZS5sb2coYOavj+mhtSAke3ZhbH0g5p2hYCk7DQogICAgfSwNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCk7DQogICAgfSwNCiAgICBoYW5kbGVTZWUoaW5kZXgsIHJvdykgew0KICAgICAgY29uc29sZS5sb2coaW5kZXgsIHJvdyk7DQogICAgfSwNCiAgICAvLyDov5Tlm54NCiAgICBteVN1Ym1pdCgpIHsNCiAgICAgIHRoaXMuJGVtaXQoImFiY0NsaWNrIik7DQogICAgfSwNCiAgICBteXN1Ym1pdCgpIHsNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBldmVudF9udW1iZXI6IHRoaXMudGFibGVEYXRhMVswXS5ldmVudF9udW1iZXIsDQogICAgICAgIGNvbW11bmljYXRlX3RpbWU6IHRoaXMuZm9ybS5jb21tdW5pY2F0ZV90aW1lLA0KICAgICAgICBjb21tdW5pY2F0aW9uOiB0aGlzLmZvcm0uY29tbXVuaWNhdGlvbiwNCiAgICAgICAgZGVwYXJ0bWVudF9pZDogdGhpcy5mb3JtLmRlcGFydG1lbnRfaWQsDQogICAgICAgIHBhdGllbnRfbmFtZTogdGhpcy5mb3JtLnBhdGllbnRfbmFtZSwNCiAgICAgICAgaG9zcF9uYW1lOiB0aGlzLmZvcm0uaG9zcF9uYW1lLA0KICAgICAgICBub3RlX3Rha2VyOiB0aGlzLmZvcm0ubm90ZV90YWtlciwNCiAgICAgICAgcmVjb3JkX29mX2NvbW11bmljYXRpb246IHRoaXMuZm9ybS5yZWNvcmRfb2ZfY29tbXVuaWNhdGlvbiwNCiAgICAgIH07DQogICAgICBzZXJ2aWNlLnBhdGllbnRBZGQoZGF0YSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDAxMCkgew0KICAgICAgICAgIGNvbnN0IGxvYWRpbmcgPSB0aGlzLiRsb2FkaW5nKHsNCiAgICAgICAgICAgIGxvY2s6IHRydWUsDQogICAgICAgICAgICB0ZXh0OiAi5L+d5a2Y5LitIiwNCiAgICAgICAgICAgIHNwaW5uZXI6ICJlbC1pY29uLWxvYWRpbmciLA0KICAgICAgICAgICAgYmFja2dyb3VuZDogInJnYmEoMCwgMCwgMCwgMC43KSIsDQogICAgICAgICAgfSk7DQogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJhYmNDbGljayIpOw0KICAgICAgICAgICAgdGhpcy5yZWxvYWQoKTsNCiAgICAgICAgICB9LCAyMDAwKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIC8vIHRoaXMuJGVtaXQoImFiY0NsaWNrIik7DQogICAgfSwNCiAgICAvLyDngrnlh7vkuIrkvKDpmYTku7bmjInpkq4NCiAgICB1cExvZGVfZGVmaW5lKCkgew0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgZXZlbnRfbnVtYmVyOiB0aGlzLnRhYmxlRGF0YTFbMF0uZXZlbnRfbnVtYmVyLA0KICAgICAgfTsNCiAgICAgIGNvbnNvbGUubG9nKHBhcmFtcyk7DQogICAgICBzZXJ2aWNlLnVwTG9kZShwYXJhbXMpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOw0KICAgICAgfSk7DQogICAgICBjb25zb2xlLmxvZyh0b2tlbik7DQogICAgfSwNCiAgICBVcGxvYWRTdWNjZXNzKHJlc3BvbnNlLCBmaWxlLCBpbmRleCkgew0KICAgICAgdGhpcy5maWxlID0gZmlsZTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsZSk7DQogICAgfSwNCiAgICAvL+S4iuS8oOmZhOS7tiDnoa7lrpoNCiAgICBkZWZpbmUoKSB7DQogICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgZmlsZV9uYW1lOiB0aGlzLmRpYWxvZ0Zvcm0uZmlsZV9uYW1lLA0KICAgICAgICBldmVudF9udW1iZXI6IHRoaXMudGFibGVEYXRhMVswXS5ldmVudF9udW1iZXIsDQogICAgICAgIGZpbGVfZGVzY3JpYmU6IHRoaXMuZGlhbG9nRm9ybS5maWxlX2Rlc2NyaWJlLA0KICAgICAgICBmaWxlOiB0aGlzLmZpbGUsDQogICAgICB9Ow0KICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICBzZXJ2aWNlLnVwbG9kZShkYXRhKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMDEwKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLA0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlRXhjZWVkKCkge30sDQogICAgLy8g5by55qGGDQogICAgaGFuZGxlQ2xvc2UoZG9uZSkgew0KICAgICAgdGhpcy4kY29uZmlybSgi56Gu6K6k5YWz6Zet77yfIikNCiAgICAgICAgLnRoZW4oKF8pID0+IHsNCiAgICAgICAgICBkb25lKCk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoXykgPT4ge30pOw0KICAgIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5idXMuJG9uKCJzZWxEZXAiLCAoaXRlbSkgPT4gew0KICAgICAgdGhpcy5kZXBMaXN0ID0gaXRlbS5kYXRhOw0KICAgICAgdGhpcy50YWJsZURhdGExID0gaXRlbS5ldmVudDsNCiAgICB9KTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/H-Connect/component/addRecord","sourcesContent":["<template>\r\n  <div class=\"addRecord_all\">\r\n    <!-- top -->\r\n    <div class=\"addRecord_top\">\r\n      <h4>基本信息</h4>\r\n    </div>\r\n    <!-- 表单 -->\r\n\r\n    <div class=\"addRecord_myform\">\r\n      <el-form ref=\"form\" :model=\"form\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"业务编号\" disabled>\r\n              <el-input\r\n                disabled=\"disabled\"\r\n                placeholder=\"提交后自动生成\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"沟通日期\" required>\r\n              <el-date-picker\r\n                type=\"date\"\r\n                placeholder=\"选择日期\"\r\n                v-model=\"form.communicate_time\"\r\n              ></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"沟通地点\" required>\r\n              <el-input v-model=\"form.communication\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"患者姓名\" required>\r\n              <el-input v-model=\"form.patient_name\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"患者所在科室\">\r\n              <el-select v-model=\"form.department_id\" placeholder=\"活动区域\">\r\n                <el-option\r\n                  v-for=\"item in depList\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.title\"\r\n                  :value=\"item.id\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\"></el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"主持人姓名\" required>\r\n              <el-input v-model=\"form.hosp_name\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"记录人姓名\" required>\r\n              <el-input v-model=\"form.note_taker\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\"> </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"主要沟通事项\">\r\n              <el-input\r\n                type=\"textarea\"\r\n                v-model=\"form.record_of_communication\"\r\n                max=\"200\"\r\n                min=\"10\"\r\n              ></el-input> </el-form-item\r\n          ></el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n    <!-- 表格  附件信息 -->\r\n    <div class=\"addRecord_enclosure\">\r\n      <div class=\"addRecord_enclosure_top\">\r\n        <div class=\"addRecord_enclosure_top_left\">\r\n          <h5>附件信息</h5>\r\n        </div>\r\n        <div class=\"addRecord_enclosure_top_right\">\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            icon=\"el-icon-circle-plus-outline\"\r\n            @click=\"upLode_define\"\r\n            >上传附件</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n      <!-- 弹框 -->\r\n      <div class=\"addRecord_enclosure_dialog\">\r\n        <el-dialog\r\n          title=\"上传文件\"\r\n          :visible.sync=\"dialogVisible\"\r\n          width=\"30%\"\r\n          :before-close=\"handleClose\"\r\n        >\r\n          <div class=\"addRecord_enclosure_dialog_div\">\r\n            <el-form ref=\"form\" :model=\"dialogForm\">\r\n              <el-form-item label=\"上传文件\">\r\n                <el-input\r\n                  v-model=\"dialogForm.file_name\"\r\n                  placeholder=\"请输入文件标题\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"文件描述\">\r\n                <el-input\r\n                  type=\"textarea\"\r\n                  v-model=\"dialogForm.file_describe\"\r\n                  placeholder=\"请输入文件描述\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-upload\r\n                  :headers=\"myHeaders\"\r\n                  class=\"upload-demo\"\r\n                  :action=\"imgUrl\"\r\n                  :on-success=\"UploadSuccess\"\r\n                  multiple\r\n                  :limit=\"3\"\r\n                  \r\n                  :on-exceed=\"handleExceed\"\r\n                  :file-list=\"fileList\"\r\n                >\r\n                  <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                  <div slot=\"tip\" class=\"el-upload__tip\">\r\n                    只能上传jpg/png文件，且不超过500kb\r\n                  </div>\r\n                </el-upload>\r\n                <!-- <el-upload\r\n                  :action=\"UploadUrl()\"\r\n                  :on-success=\"UploadSuccess\"\r\n                  :file-list=\"fileList\"\r\n                >\r\n                  <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                </el-upload> -->\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"define\">确 定</el-button>\r\n          </span>\r\n        </el-dialog>\r\n      </div>\r\n      <!--主要表格 -->\r\n      <div class=\"addRecord_enclosure_content\">\r\n        <el-table :data=\"tableData\" style=\"width: 100%\">\r\n          <el-table-column label=\"ID\">\r\n            <template slot-scope=\"scope\">\r\n              <span style=\"margin-left: 10px\">{{ scope.row.id }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"文件名\">\r\n            <template slot-scope=\"scope\">\r\n              <span style=\"margin-left: 10px\">{{ scope.row.file }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"文件描述\">\r\n            <template slot-scope=\"scope\">\r\n              <el-popover trigger=\"hover\" placement=\"top\">\r\n                <p>{{ scope.row.filecontent }}</p>\r\n                <div slot=\"reference\" class=\"name-wrapper\">\r\n                  <el-tag size=\"medium\">{{ scope.row.files }}</el-tag>\r\n                </div>\r\n              </el-popover>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"文件大小\">\r\n            <template slot-scope=\"scope\">\r\n              <span style=\"margin-left: 10px\">{{ scope.row.filesize }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"更新时间\">\r\n            <template slot-scope=\"scope\">\r\n              <span style=\"margin-left: 10px\">{{ scope.row.date }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"文件类型\">\r\n            <template slot-scope=\"scope\">\r\n              <span style=\"margin-left: 10px\">{{ scope.row.filetype }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"上传人员\">\r\n            <template slot-scope=\"scope\">\r\n              <span style=\"margin-left: 10px\">{{ scope.row.name }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-link\r\n                type=\"primary\"\r\n                @click=\"handleEdit(scope.$index, scope.row)\"\r\n                >下载</el-link\r\n              >\r\n              <el-link\r\n                type=\"danger\"\r\n                @click=\"handleDelete(scope.$index, tableData)\"\r\n                >删除</el-link\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <!-- 分页 -->\r\n      <div class=\"addRecord_enclosure_paging\">\r\n        <div class=\"block\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-sizes=\"[8, 10, 20]\"\r\n            :page-size=\"8\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"tableData.length\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 表格  关联投诉信息 -->\r\n    <div class=\"addRecord_relation\">\r\n      <div class=\"addRecord_relation_top\">\r\n        <h5>关联投诉信息</h5>\r\n      </div>\r\n      <div class=\"addRecord_relation_content\">\r\n        <el-table :data=\"tableData1\" style=\"width: 100%\">\r\n          <el-table-column label=\"序号\" type=\"index\"> </el-table-column>\r\n          <el-table-column label=\"事件编码\" prop=\"event_number\">\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"投诉人姓名\" prop=\"complaint_name\">\r\n          </el-table-column>\r\n          <el-table-column label=\"姓别\" prop=\"sex\"> </el-table-column>\r\n          <el-table-column label=\"年龄\" prop=\"age\"> </el-table-column>\r\n          <el-table-column label=\"手机号码\" prop=\"complaint_phone\">\r\n          </el-table-column>\r\n          <el-table-column label=\"投诉科室\" prop=\"pass_department\">\r\n          </el-table-column>\r\n          <el-table-column label=\"信息来源\" prop=\"pass_department\">\r\n          </el-table-column>\r\n          <el-table-column label=\"投诉时间\" prop=\"create_time\">\r\n          </el-table-column>\r\n          <el-table-column label=\"流转部门\" prop=\"pass_department\">\r\n          </el-table-column>\r\n          <el-table-column label=\"事件状态\" prop=\"state.state_val\">\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-link\r\n                type=\"primary\"\r\n                @click=\"handleSee(scope.$index, scope.row)\"\r\n                >查看</el-link\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          icon=\"el-icon-circle-plus-outline\"\r\n          >添加投诉信息</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n    <!-- 固定定位按钮 -->\r\n    <div class=\"addRecord_button\">\r\n      <div class=\"button_stlye\">\r\n        <el-button icon=\"el-icon-back\" @click=\"mySubmit\">返回</el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"el-icon-document-checked\"\r\n          @click=\"mysubmit\"\r\n          >提交</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nvar token = sessionStorage.getItem(\"token\"); // 要保证取到\r\n// 引入css\r\nimport \"@/views/H-Connect/component/addRecord/css.css\";\r\n// 引用service\r\nimport service from \"@/service/index\";\r\nexport default {\r\n  components: {},\r\n  inject: [\"reload\"],\r\n  props: {},\r\n  data() {\r\n    return {\r\n      imgUrl: \"http://bt1.wlqqlp.com:8082/api/record/upload_attachment\",\r\n      myHeaders: { Authorization: token },\r\n      // 表单\r\n      form: {\r\n        communicate_time: \"\",\r\n        communication: \"\",\r\n        department_id: \"\",\r\n        patient_name: \"\",\r\n        hosp_name: \"\",\r\n        note_taker: \"\",\r\n        record_of_communication: \"\",\r\n      },\r\n      // 科室\r\n      depList: [],\r\n      // 表格1  附件信息\r\n      tableData: [\r\n        {\r\n          id: \"1\",\r\n          file: \"hhh\",\r\n          filecontent: \"hauhuhhajkfd\",\r\n          files: \"123\",\r\n          filesize: \"120kb\",\r\n          date: \"2016-05-02\",\r\n          filetype: \"jpg\",\r\n          name: \"王小虎\",\r\n        },\r\n        {\r\n          id: \"2\",\r\n          file: \"hhh\",\r\n          filecontent: \"hauhuhhajkfd\",\r\n          files: \"123\",\r\n          filesize: \"120kb\",\r\n          date: \"2016-05-02\",\r\n          filetype: \"jpg\",\r\n          name: \"王小虎\",\r\n        },\r\n        {\r\n          id: \"3\",\r\n          file: \"hhh\",\r\n          filecontent: \"hauhuhhajkfd\",\r\n          files: \"123\",\r\n          filesize: \"120kb\",\r\n          date: \"2016-05-02\",\r\n          filetype: \"jpg\",\r\n          name: \"王小虎\",\r\n        },\r\n        {\r\n          id: \"4\",\r\n          file: \"hhh\",\r\n          filecontent: \"hauhuhhajkfd\",\r\n          files: \"123\",\r\n          filesize: \"120kb\",\r\n          date: \"2016-05-02\",\r\n          filetype: \"jpg\",\r\n          name: \"王小虎\",\r\n        },\r\n      ],\r\n      currentPage: 4,\r\n      // 表格2  关联信息\r\n      tableData1: [],\r\n      // 弹框\r\n      dialogVisible: false,\r\n      dialogForm: {},\r\n      fileList: [],\r\n      file: [],\r\n    };\r\n  },\r\n  methods: {\r\n    // 编辑\r\n    handleEdit(index, row) {},\r\n    handleDelete(index, row) {\r\n      row.splice(index, 1);\r\n      this.$message({\r\n        showClose: true,\r\n        message: \"删除成功\",\r\n        type: \"success\",\r\n      });\r\n    },\r\n    // 分页\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n    handleSee(index, row) {\r\n      console.log(index, row);\r\n    },\r\n    // 返回\r\n    mySubmit() {\r\n      this.$emit(\"abcClick\");\r\n    },\r\n    mysubmit() {\r\n      let data = {\r\n        event_number: this.tableData1[0].event_number,\r\n        communicate_time: this.form.communicate_time,\r\n        communication: this.form.communication,\r\n        department_id: this.form.department_id,\r\n        patient_name: this.form.patient_name,\r\n        hosp_name: this.form.hosp_name,\r\n        note_taker: this.form.note_taker,\r\n        record_of_communication: this.form.record_of_communication,\r\n      };\r\n      service.patientAdd(data).then((res) => {\r\n        console.log(res);\r\n        if (res.code == 20010) {\r\n          const loading = this.$loading({\r\n            lock: true,\r\n            text: \"保存中\",\r\n            spinner: \"el-icon-loading\",\r\n            background: \"rgba(0, 0, 0, 0.7)\",\r\n          });\r\n          setTimeout(() => {\r\n            loading.close();\r\n            this.$emit(\"abcClick\");\r\n            this.reload();\r\n          }, 2000);\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      });\r\n      // this.$emit(\"abcClick\");\r\n    },\r\n    // 点击上传附件按钮\r\n    upLode_define() {\r\n      let params = {\r\n        event_number: this.tableData1[0].event_number,\r\n      };\r\n      console.log(params);\r\n      service.upLode(params).then((res) => {\r\n        console.log(res);\r\n        this.dialogVisible = true;\r\n      });\r\n      console.log(token);\r\n    },\r\n    UploadSuccess(response, file, index) {\r\n      this.file = file;\r\n      console.log(this.file);\r\n    },\r\n    //上传附件 确定\r\n    define() {\r\n      let data = {\r\n        file_name: this.dialogForm.file_name,\r\n        event_number: this.tableData1[0].event_number,\r\n        file_describe: this.dialogForm.file_describe,\r\n        file: this.file,\r\n      };\r\n      console.log(data);\r\n      service.uplode(data).then((res) => {\r\n        console.log(res);\r\n        if (res.code == 20010) {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: \"success\",\r\n          });\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      });\r\n    },\r\n    handleExceed() {},\r\n    // 弹框\r\n    handleClose(done) {\r\n      this.$confirm(\"确认关闭？\")\r\n        .then((_) => {\r\n          done();\r\n        })\r\n        .catch((_) => {});\r\n    },\r\n  },\r\n  created() {\r\n    this.bus.$on(\"selDep\", (item) => {\r\n      this.depList = item.data;\r\n      this.tableData1 = item.event;\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n</style>"]}]}