{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\src\\views\\H-Files\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\src\\views\\H-Files\\index.vue","mtime":1610700361722},{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgIi4vY3NzL0ZpbGVzLmNzcyI7DQppbXBvcnQgQWRkRmlsZXMgZnJvbSAiLi9jb21wb25lbnRzL0FkZEZpbGVzIjsNCmltcG9ydCBzZXJ2aWNlIGZyb20gIkAvc2VydmljZS9pbmRleCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBBZGRGaWxlcywNCiAgfSwNCiAgcHJvcHM6IHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgcnVsZUZvcm06IHsNCiAgICAgICAgbmFtZTogIiIsDQogICAgICAgIHJlZ2lvbjogIiIsDQogICAgICAgIGRlc2M6ICIiLA0KICAgICAgfSwNCiAgICAgIGVkaXRzZWxkYXRhOiBbXSwNCiAgICAgIGVkaXRzZWx2YWx1ZTogMCwNCiAgICAgIGZpbGVMaXN0OiBbXSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIG5hbWU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5paH5Lu25qCH6aKYIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgbWluOiAyLA0KICAgICAgICAgICAgbWF4OiAyMCwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLplb/luqblnKggMiDliLAgMjAg5Liq5a2X56ymIiwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgICByZWdpb246IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup5YiG57G7IiwgdHJpZ2dlcjogImNoYW5nZSIgfV0sDQogICAgICB9LA0KICAgICAgZm9ybTogew0KICAgICAgICBpbnB1dDogIiIsDQogICAgICAgIHJlZ2lvbjogIiIsDQogICAgICAgIC8vIG9wdGlvbnM6IFsNCiAgICAgICAgLy8gICB7DQogICAgICAgIC8vICAgICB2YWx1ZTogIumAiemhuTEiLA0KICAgICAgICAvLyAgICAgbGFiZWw6ICLliIbnsbsxIiwNCiAgICAgICAgLy8gICB9LA0KICAgICAgICAvLyAgIHsNCiAgICAgICAgLy8gICAgIHZhbHVlOiAi6YCJ6aG5MiIsDQogICAgICAgIC8vICAgICBsYWJlbDogIuWIhuexuzIiLA0KICAgICAgICAvLyAgIH0sDQogICAgICAgIC8vICAgew0KICAgICAgICAvLyAgICAgdmFsdWU6ICLpgInpobkzIiwNCiAgICAgICAgLy8gICAgIGxhYmVsOiAi5YiG57G7MyIsDQogICAgICAgIC8vICAgfSwNCiAgICAgICAgLy8gICB7DQogICAgICAgIC8vICAgICB2YWx1ZTogIumAiemhuTQiLA0KICAgICAgICAvLyAgICAgbGFiZWw6ICLliIbnsbs0IiwNCiAgICAgICAgLy8gICB9LA0KICAgICAgICAvLyBdLA0KICAgICAgfSwNCiAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICBmaWxlc0lzU2hvdzogdHJ1ZSwNCiAgICAgIGFkZElzU2hvdzogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBzZXJ2aWNlLmZpbGVsaXN0KCkudGhlbigocmVzKSA9PiB7DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YTsNCiAgICB9KTsNCiAgICBzZXJ2aWNlLmZpbGV0cmVlKCkudGhlbigocmVzKSA9PiB7DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgdGhpcy5lZGl0c2VsZGF0YSA9IHJlcy5kYXRhOw0KICAgIH0pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc3VibWl0Rm9ybSgpIHsNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBmaWxlX25hbWU6IHRoaXMucnVsZUZvcm0ubmFtZSwNCiAgICAgICAgZmlsZV9kZXNjcmliZTogdGhpcy5ydWxlRm9ybS5kZXNjLA0KICAgICAgICBjbGFzc19pZDogdGhpcy5lZGl0c2VsdmFsdWUsDQogICAgICB9Ow0KICAgICAgc2VydmljZS5maWxldXBsb2FkKGRhdGEpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICByZXNldEZvcm0oKSB7fSwNCiAgICBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0KTsNCiAgICB9LA0KICAgIGhhbmRsZVByZXZpZXcoZmlsZSkgew0KICAgICAgY29uc29sZS5sb2coZmlsZSk7DQogICAgfSwNCiAgICBiZWZvcmVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIHJldHVybiB0aGlzLiRjb25maXJtKGDnoa7lrprnp7vpmaQgJHtmaWxlLm5hbWV977yfYCk7DQogICAgfSwNCiAgICBoYW5kbGVFeGNlZWQoZmlsZXMsIGZpbGVMaXN0KSB7DQogICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoDQogICAgICAgIGDlvZPliY3pmZDliLbpgInmi6kgMyDkuKrmlofku7bvvIzmnKzmrKHpgInmi6nkuoYgJHtmaWxlcy5sZW5ndGh9IOS4quaWh+S7tu+8jOWFsemAieaLqeS6hiAkew0KICAgICAgICAgIGZpbGVzLmxlbmd0aCArIGZpbGVMaXN0Lmxlbmd0aA0KICAgICAgICB9IOS4quaWh+S7tmANCiAgICAgICk7DQogICAgfSwNCiAgICBzZWxjaGFuZygpIHsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWRpdHNlbHZhbHVlKTsNCiAgICB9LA0KICAgIC8vIOWIoOmZpA0KICAgIGRlbGV0ZVJvdyhpbmRleCwgcm93cykgew0KICAgICAgcm93cy5zcGxpY2UoaW5kZXgsIDEpOw0KICAgIH0sDQogICAgLy8g5LiL6L29DQogICAgaGFuZGxlQ2xpY2socm93KSB7DQogICAgICBjb25zb2xlLmxvZyhyb3cpOw0KICAgIH0sDQogICAgLy8g5LiK5Lyg5paH5Lu2DQogICAgdXBsb2FkY2xhc3NpZnkoKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLy8g5paw5aKe5YiG57G7DQogICAgbmV3Y2xhc3NpZnkoKSB7DQogICAgICB0aGlzLmZpbGVzSXNTaG93ID0gIXRoaXMuZmlsZXNJc1Nob3c7DQogICAgICB0aGlzLmFkZElzU2hvdyA9ICF0aGlzLmFkZElzU2hvdzsNCiAgICB9LA0KICAgIC8vIOWIhumhtQ0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/H-Files","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"filelist\" v-show=\"filesIsShow\">\r\n      <!-- 头部 -->\r\n      <div class=\"head\">\r\n        <h4 class=\"title\">文件列表</h4>\r\n        <div class=\"push_btn\">\r\n          <i\r\n            class=\"fa fa-plus-circle fa-2\"\r\n            aria-hidden=\"true\"\r\n            @click=\"uploadclassify()\"\r\n            ><span>上传文件</span></i\r\n          >\r\n          <i\r\n            class=\"fa fa-plus-circle fa-2\"\r\n            aria-hidden=\"true\"\r\n            @click=\"newclassify()\"\r\n            ><span>新建分类</span></i\r\n          >\r\n        </div>\r\n      </div>\r\n      <!-- 搜索 -->\r\n      <div class=\"search\">\r\n        <el-form class=\"search_form\" ref=\"form\" :model=\"form\">\r\n          <el-form-item class=\"classify\" label=\"文件分类\">\r\n            <el-select v-model=\"form.region\" placeholder=\"全部\">\r\n              <el-option\r\n                v-for=\"item in form.options\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"form.input\"\r\n            class=\"input-with-select\"\r\n          >\r\n            <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n          </el-input>\r\n        </el-form>\r\n      </div>\r\n      <!-- 表格内容 -->\r\n      <div class=\"TableContent\">\r\n        <el-table :data=\"tableData\">\r\n          <el-table-column prop=\"id\" label=\"ID\" width=\"180\"> </el-table-column>\r\n          <el-table-column prop=\"file_name\" label=\"文件名\" width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"file_describe\" label=\"文件描述\" width=\"260\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"file_size\" label=\"文件大小\" width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"create_time\" label=\"更新时间\" width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"class_id\" label=\"文件分类\" width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"uid\" label=\"上传人员\" width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" width=\"180\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                style=\"color: #666ee8\"\r\n                @click=\"handleClick(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                >下载</el-button\r\n              >\r\n              <el-button\r\n                style=\"color: #1e1e1e\"\r\n                @click.native.prevent=\"deleteRow(scope.$index, tableData)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n              >\r\n                删除\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <!-- 分页 -->\r\n      <div class=\"staffpag\">\r\n        <div class=\"block\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-sizes=\"[8, 10, 20]\"\r\n            :page-size=\"8\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"tableData.length\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 新增分类 -->\r\n    <add-files v-show=\"addIsShow\" @newly=\"newclassify()\"></add-files>\r\n    <!-- 上传 -->\r\n    <el-dialog title=\"上传文件\" :visible.sync=\"dialogVisible\">\r\n      <el-form :model=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <el-form-item label=\"文件标题\" prop=\"name\">\r\n          <el-input v-model=\"ruleForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"文件分类\" prop=\"region\">\r\n          <el-select\r\n            @change=\"selchang\"\r\n            v-model=\"editselvalue\"\r\n            placeholder=\"请选择\"\r\n          >\r\n            <el-option label=\"作为顶级\" :value=\"0\"></el-option>\r\n            <template v-for=\"v in editseldata\">\r\n              <el-option\r\n                :key=\"v.id\"\r\n                :label=\"v.class_name\"\r\n                :value=\"v.id\"\r\n              ></el-option>\r\n              <template v-if=\"v._child\">\r\n                <el-option\r\n                  v-for=\"vv in v._child\"\r\n                  :key=\"vv.id\"\r\n                  :label=\"'|——' + vv.class_name\"\r\n                  :value=\"vv.id\"\r\n                >\r\n                </el-option>\r\n              </template>\r\n            </template>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-upload\r\n          class=\"upload-demo\"\r\n          action=\"http://bt1.wlqqlp.com:8082/api/file/addfile\"\r\n          :on-preview=\"handlePreview\"\r\n          :on-remove=\"handleRemove\"\r\n          :before-remove=\"beforeRemove\"\r\n          multiple\r\n          :limit=\"3\"\r\n          :on-exceed=\"handleExceed\"\r\n          :file-list=\"fileList\"\r\n        >\r\n          <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n          <div slot=\"tip\" class=\"el-upload__tip\">\r\n            只能上传jpg/png文件，且不超过500kb\r\n          </div>\r\n        </el-upload>\r\n        <el-form-item label=\"文件描述\" prop=\"desc\">\r\n          <el-input type=\"textarea\" v-model=\"ruleForm.desc\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm\">上传</el-button>\r\n          <el-button @click=\"resetForm\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport \"./css/Files.css\";\r\nimport AddFiles from \"./components/AddFiles\";\r\nimport service from \"@/service/index\";\r\nexport default {\r\n  components: {\r\n    AddFiles,\r\n  },\r\n  props: {},\r\n  data() {\r\n    return {\r\n      currentPage: 1,\r\n      dialogVisible: false,\r\n      ruleForm: {\r\n        name: \"\",\r\n        region: \"\",\r\n        desc: \"\",\r\n      },\r\n      editseldata: [],\r\n      editselvalue: 0,\r\n      fileList: [],\r\n      rules: {\r\n        name: [\r\n          { required: true, message: \"请输入文件标题\", trigger: \"blur\" },\r\n          {\r\n            min: 2,\r\n            max: 20,\r\n            message: \"长度在 2 到 20 个字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        region: [{ required: true, message: \"请选择分类\", trigger: \"change\" }],\r\n      },\r\n      form: {\r\n        input: \"\",\r\n        region: \"\",\r\n        // options: [\r\n        //   {\r\n        //     value: \"选项1\",\r\n        //     label: \"分类1\",\r\n        //   },\r\n        //   {\r\n        //     value: \"选项2\",\r\n        //     label: \"分类2\",\r\n        //   },\r\n        //   {\r\n        //     value: \"选项3\",\r\n        //     label: \"分类3\",\r\n        //   },\r\n        //   {\r\n        //     value: \"选项4\",\r\n        //     label: \"分类4\",\r\n        //   },\r\n        // ],\r\n      },\r\n      tableData: [],\r\n      filesIsShow: true,\r\n      addIsShow: false,\r\n    };\r\n  },\r\n  created() {\r\n    service.filelist().then((res) => {\r\n      console.log(res);\r\n      this.tableData = res.data;\r\n    });\r\n    service.filetree().then((res) => {\r\n      console.log(res);\r\n      this.editseldata = res.data;\r\n    });\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      let data = {\r\n        file_name: this.ruleForm.name,\r\n        file_describe: this.ruleForm.desc,\r\n        class_id: this.editselvalue,\r\n      };\r\n      service.fileupload(data).then((res) => {\r\n        console.log(res);\r\n      });\r\n    },\r\n    resetForm() {},\r\n    handleRemove(file, fileList) {\r\n      console.log(file, fileList);\r\n    },\r\n    handlePreview(file) {\r\n      console.log(file);\r\n    },\r\n    beforeRemove(file, fileList) {\r\n      return this.$confirm(`确定移除 ${file.name}？`);\r\n    },\r\n    handleExceed(files, fileList) {\r\n      this.$message.warning(\r\n        `当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${\r\n          files.length + fileList.length\r\n        } 个文件`\r\n      );\r\n    },\r\n    selchang() {\r\n      console.log(this.editselvalue);\r\n    },\r\n    // 删除\r\n    deleteRow(index, rows) {\r\n      rows.splice(index, 1);\r\n    },\r\n    // 下载\r\n    handleClick(row) {\r\n      console.log(row);\r\n    },\r\n    // 上传文件\r\n    uploadclassify() {\r\n      this.dialogVisible = true;\r\n    },\r\n    // 新增分类\r\n    newclassify() {\r\n      this.filesIsShow = !this.filesIsShow;\r\n      this.addIsShow = !this.addIsShow;\r\n    },\r\n    // 分页\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n</style>"]}]}