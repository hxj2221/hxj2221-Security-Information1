{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\Dashboard\\components\\CoolClock.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\Dashboard\\components\\CoolClock.vue","mtime":1609551113257},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKDQppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InDQoNCkBDb21wb25lbnQNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvb2xDbG9jayBleHRlbmRzIFZ1ZXsNCiAgY2FudmFzID0gew0KICAgIHdpZHRoOiAzMDAsDQogICAgaGVpZ2h0OiAzMDANCiAgfQ0KDQogIEwgPSAwIC8v5Z+656GA5Y2K5b6EDQogIHRpbWVyOiBhbnkgPSBudWxsDQoNCiAgZHJhd0Nvb2xDbG9jaygpIHsNCiAgICBsZXQgY2FudmFzID0gPGFueT5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29vbENsb2NrQ2FudmFzIikNCiAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykNCiAgICBsZXQgW3gwLCB5MF0gPSBbdGhpcy5jYW52YXMud2lkdGggLyAyLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyXSAvL+iOt+WPluWchuW/g3gseQ0KICAgIHRoaXMuTCA9IHRoaXMuY2FudmFzLndpZHRoIC8gMiAtIDEwIC8v6K6+572u5ZyG5Y2K5b6EDQogICAgbGV0IFtob3VyTWF4TCwgaG91ck1pbkxdID0gW3RoaXMuTCwgdGhpcy5MIC0gMjhdIC8v6I635Y+W5pe25Yi75bqm6aaW5L2N6Led56a7eDAseTDkvY3nva4NCiAgICBsZXQgW21pbk1heEwsIG1pbk1pbkxdID0gW3RoaXMuTCAtIDIsIHRoaXMuTCAtIDE1XQ0KICAgIGxldCBjZW50ZXJMID0gMTUNCiAgICBsZXQgb0RhdGUgPSBuZXcgRGF0ZSgpIC8v57uR5a6a5b2T5YmN5pe26Ze0DQogICAgbGV0IG9Ib3VycyA9IG9EYXRlLmdldEhvdXJzKCkNCiAgICBsZXQgb01pbiA9IG9EYXRlLmdldE1pbnV0ZXMoKQ0KICAgIGxldCBvU2VuID0gb0RhdGUuZ2V0U2Vjb25kcygpDQogICAgbGV0IG9Ib3Vyc1ZhbHVlID0gLTkwICsgb0hvdXJzICogMzAgKyBvTWluIC8gMiAvL+iOt+WPluWwj+aXtueahOinkuW6pg0KICAgIGxldCBvTWluVmFsdWUgPSAtOTAgKyBvTWluICogNg0KICAgIGxldCBvU2VuVmFsdWUgPSAtOTAgKyBvU2VuICogNg0KICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCkgLy/muIXpmaTnlLvluIMNCiAgICB0aGlzLmRyYXdIb3Vyc1NjYWxlKGN0eCwgeDAsIHkwLCAxMiwgOSwgaG91ck1heEwsIGhvdXJNaW5MKSAvL+e7mOWItuihqOebmOeahOaXtumSn+WIu+W6pnNjYWxlDQogICAgdGhpcy5kcmF3SG91cnNTY2FsZShjdHgsIHgwLCB5MCwgNjAsIDMsIG1pbk1heEwsIG1pbk1pbkwpIC8v57uY5Yi26KGo55uY5YiG6ZKf5Yi75bqmDQogICAgdGhpcy5kcmF3U2NhbGVOdW0oY3R4LCBob3VyTWluTCAtIDI1LCB4MCwgeTApIC8v57uY5Yi2MTLkuKrooajnm5jmlbDlrZcNCiAgICB0aGlzLmRyYXdUaW1lTmVlZGxlKGN0eCwgeDAsIHkwLCAxNSwgMTM1LCBvSG91cnNWYWx1ZSkgLy/nu5jliLbml7bpkoggDQogICAgdGhpcy5kcmF3VGltZU5lZWRsZShjdHgsIHgwLCB5MCwgOCwgbWluTWF4TCAtIDE1LCBvTWluVmFsdWUpIC8v57uY5Yi25YiG6ZKIICANCiAgICB0aGlzLmRyYXdUaW1lTmVlZGxlKGN0eCwgeDAsIHkwLCAzLCBtaW5NYXhMIC0gMiwgb1NlblZhbHVlLCAnI2YzYTgyOScpIC8v57uY5Yi256eS6ZKIDQogICAgdGhpcy5kcmF3U2VuRG90dGVkKGN0eCwgJyNmM2E4MjknLCB4MCwgeTAsIG9TZW5WYWx1ZSAtIDE4MCwgY2VudGVyTCkgLy/nu5jliLbnp5LpkojlsL7pg6gNCiAgICB0aGlzLmRyYXdDaXJjbGVDZW50ZXIoY3R4LCB4MCwgeTAsICcjZjNhODI5JywgY2VudGVyTCkgLy/nu5jliLblnIblv4MNCiAgfQ0KDQogIGRyYXdIb3Vyc1NjYWxlIChjdHgsIHgwLCB5MCwgc2NhbGVOdW0sIHNjYWxlVywgbWF4TCwgbWluTCl7DQogICAgZm9yIChsZXQgaT0wOyBpPHNjYWxlTnVtOyBpKyspIHsNCiAgICAgIGxldCBhbmdlbCA9IC05MCArIGkgKiAoMzYwIC8gc2NhbGVOdW0pIC8v6KeS5bqmDQogICAgICBsZXQgW3gxLCB5MV0gPSBbeDAgKyBNYXRoLmNvcyhhbmdlbCAqIE1hdGguUEkgLyAxODApICogbWF4TCwgeTAgKyBNYXRoLnNpbihhbmdlbCAqIE1hdGguUEkgLyAxODApICogbWF4TF0NCiAgICAgIGxldCBbeDIsIHkyXSA9IFt4MCArIE1hdGguY29zKGFuZ2VsICogTWF0aC5QSSAvIDE4MCkgKiBtaW5MLCB5MCArIE1hdGguc2luKGFuZ2VsICogTWF0aC5QSSAvIDE4MCkgKiBtaW5MXQ0KICAgICAgY3R4LnNhdmUoKQ0KICAgICAgY3R4LmJlZ2luUGF0aCgpDQogICAgICBjdHgubGluZVdpZHRoID0gc2NhbGVXDQogICAgICBjdHgubGluZUNhcCA9ICJyb3VuZCINCiAgICAgIGN0eC5tb3ZlVG8oeDEsIHkxKQ0KICAgICAgY3R4LmxpbmVUbyh4MiwgeTIpDQogICAgICBjdHguc3Ryb2tlKCkNCiAgICAgIGN0eC5jbG9zZVBhdGgoKQ0KICAgICAgY3R4LnJlc3RvcmUoKQ0KICAgIH0NCiAgfQ0KDQogIGRyYXdTY2FsZU51bShjdHgsIEwsIHgwLCB5MCkgew0KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTI7IGkrKykgew0KICAgICAgbGV0IGFuZ2VsID0gLTkwICsgaSAqICgzNjAgLyAxMikgLy/op5LluqYNCiAgICAgIGxldCBbeCwgeV0gPSBbeDAgKyBNYXRoLmNvcyhhbmdlbCAqIE1hdGguUEkgLyAxODApICogTCwgeTAgKyBNYXRoLnNpbihhbmdlbCAqIE1hdGguUEkgLyAxODApICogTF0NCiAgICAgIGxldCBudW0gPSBpID09IDAgPyAxMiA6IGkNCiAgICAgIGN0eC5zYXZlKCkNCiAgICAgIGN0eC5iZWdpblBhdGgoKQ0KICAgICAgY3R4LmZvbnQgPSAiMzBweCBBcmlhbCINCiAgICAgIGN0eC50ZXh0QWxpZ24gPSAiY2VudGVyIg0KICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICJtaWRkbGUiDQogICAgICBjdHguZmlsbFRleHQobnVtLCB4LCB5KQ0KICAgICAgY3R4LmNsb3NlUGF0aCgpDQogICAgICBjdHgucmVzdG9yZSgpDQogICAgfQ0KICB9DQoNCiAgZHJhd1RpbWVOZWVkbGUoY3R4LCB4MCwgeTAsIGxpbmVXLCBMLCBhbmdlbCwgY29sb3IgPSAnIzAwMCcpIHsNCiAgICBsZXQgW3gsIHldID0gW3gwICsgTWF0aC5jb3MoYW5nZWwgKiBNYXRoLlBJIC8gMTgwKSAqIEwsIHkwICsgTWF0aC5zaW4oYW5nZWwgKiBNYXRoLlBJIC8gMTgwKSAqIExdDQogICAgY3R4LnNhdmUoKQ0KICAgIGN0eC5iZWdpblBhdGgoKQ0KICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yDQogICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXDQogICAgY3R4LmxpbmVDYXAgPSAicm91bmQiDQogICAgY3R4Lm1vdmVUbyh4MCwgeTApDQogICAgY3R4LmxpbmVUbyh4LCB5KQ0KICAgIGN0eC5zdHJva2UoKQ0KICAgIGN0eC5jbG9zZVBhdGgoKQ0KICAgIGN0eC5yZXN0b3JlKCkNCiAgfQ0KDQogIGRyYXdDaXJjbGVDZW50ZXIoY3R4LCB4MCwgeTAsIGNvbG9yLCBMKSB7DQogICAgY3R4LnNhdmUoKQ0KICAgIGN0eC5iZWdpblBhdGgoKQ0KICAgIGN0eC5zaGFkb3dCbHVyID0gNA0KICAgIGN0eC5zaGFkb3dDb2xvciA9ICIjMDAwIg0KICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcg0KICAgIGN0eC5hcmMoeDAsIHkwLCBMLCAwLCAzNjAgKiBNYXRoLlBJIC8gMTgwKQ0KICAgIGN0eC5maWxsKCkNCiAgICBjdHguY2xvc2VQYXRoKCkNCiAgICBjdHgucmVzdG9yZSgpDQogIH0NCg0KICBkcmF3U2VuRG90dGVkKGN0eCwgY29sb3IsIHgwLCB5MCwgYW5nZWwsIEwpIHsNCiAgICBsZXQgW3gsIHldID0gW3gwICsgTWF0aC5jb3MoYW5nZWwgKiBNYXRoLlBJIC8gMTgwKSAqIEwsIHkwICsgTWF0aC5zaW4oYW5nZWwgKiBNYXRoLlBJIC8gMTgwKSAqIExdDQogICAgY3R4LnNhdmUoKQ0KICAgIGN0eC5iZWdpblBhdGgoKQ0KICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcg0KICAgIGN0eC5hcmMoeCwgeSwgNywgMCwgMzYwICogTWF0aC5QSSAvIDE4MCkNCiAgICBjdHguZmlsbCgpDQogICAgY3R4LmNsb3NlUGF0aCgpDQogICAgY3R4LnJlc3RvcmUoKQ0KICB9DQoNCiAgcHJpdmF0ZSBtb3VudGVkKCkgew0KICAgIHRoaXMuZHJhd0Nvb2xDbG9jaygpDQogICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICAgIHRoaXMuZHJhd0Nvb2xDbG9jaygpDQogICAgfSwgMzApDQogIH0NCg0KICBwcml2YXRlIGJlZm9yZURlc3Ryb3koKSB7DQogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKQ0KICAgIHRoaXMudGltZXIgPSBudWxsDQogIH0NCn0NCg=="},{"version":3,"sources":["CoolClock.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"CoolClock.vue","sourceRoot":"src/views/Dashboard/components","sourcesContent":["<template>\r\n  <div class=\"coolClockWrap\">\r\n    <canvas id=\"coolClockCanvas\" :width=\"canvas.width\" :height=\"canvas.height\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, Vue } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class CoolClock extends Vue{\r\n  canvas = {\r\n    width: 300,\r\n    height: 300\r\n  }\r\n\r\n  L = 0 //基础半径\r\n  timer: any = null\r\n\r\n  drawCoolClock() {\r\n    let canvas = <any>document.getElementById(\"coolClockCanvas\")\r\n    let ctx = canvas.getContext('2d')\r\n    let [x0, y0] = [this.canvas.width / 2, this.canvas.height / 2] //获取圆心x,y\r\n    this.L = this.canvas.width / 2 - 10 //设置圆半径\r\n    let [hourMaxL, hourMinL] = [this.L, this.L - 28] //获取时刻度首位距离x0,y0位置\r\n    let [minMaxL, minMinL] = [this.L - 2, this.L - 15]\r\n    let centerL = 15\r\n    let oDate = new Date() //绑定当前时间\r\n    let oHours = oDate.getHours()\r\n    let oMin = oDate.getMinutes()\r\n    let oSen = oDate.getSeconds()\r\n    let oHoursValue = -90 + oHours * 30 + oMin / 2 //获取小时的角度\r\n    let oMinValue = -90 + oMin * 6\r\n    let oSenValue = -90 + oSen * 6\r\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height) //清除画布\r\n    this.drawHoursScale(ctx, x0, y0, 12, 9, hourMaxL, hourMinL) //绘制表盘的时钟刻度scale\r\n    this.drawHoursScale(ctx, x0, y0, 60, 3, minMaxL, minMinL) //绘制表盘分钟刻度\r\n    this.drawScaleNum(ctx, hourMinL - 25, x0, y0) //绘制12个表盘数字\r\n    this.drawTimeNeedle(ctx, x0, y0, 15, 135, oHoursValue) //绘制时针 \r\n    this.drawTimeNeedle(ctx, x0, y0, 8, minMaxL - 15, oMinValue) //绘制分针  \r\n    this.drawTimeNeedle(ctx, x0, y0, 3, minMaxL - 2, oSenValue, '#f3a829') //绘制秒针\r\n    this.drawSenDotted(ctx, '#f3a829', x0, y0, oSenValue - 180, centerL) //绘制秒针尾部\r\n    this.drawCircleCenter(ctx, x0, y0, '#f3a829', centerL) //绘制圆心\r\n  }\r\n\r\n  drawHoursScale (ctx, x0, y0, scaleNum, scaleW, maxL, minL){\r\n    for (let i=0; i<scaleNum; i++) {\r\n      let angel = -90 + i * (360 / scaleNum) //角度\r\n      let [x1, y1] = [x0 + Math.cos(angel * Math.PI / 180) * maxL, y0 + Math.sin(angel * Math.PI / 180) * maxL]\r\n      let [x2, y2] = [x0 + Math.cos(angel * Math.PI / 180) * minL, y0 + Math.sin(angel * Math.PI / 180) * minL]\r\n      ctx.save()\r\n      ctx.beginPath()\r\n      ctx.lineWidth = scaleW\r\n      ctx.lineCap = \"round\"\r\n      ctx.moveTo(x1, y1)\r\n      ctx.lineTo(x2, y2)\r\n      ctx.stroke()\r\n      ctx.closePath()\r\n      ctx.restore()\r\n    }\r\n  }\r\n\r\n  drawScaleNum(ctx, L, x0, y0) {\r\n    for (let i = 0; i < 12; i++) {\r\n      let angel = -90 + i * (360 / 12) //角度\r\n      let [x, y] = [x0 + Math.cos(angel * Math.PI / 180) * L, y0 + Math.sin(angel * Math.PI / 180) * L]\r\n      let num = i == 0 ? 12 : i\r\n      ctx.save()\r\n      ctx.beginPath()\r\n      ctx.font = \"30px Arial\"\r\n      ctx.textAlign = \"center\"\r\n      ctx.textBaseline = \"middle\"\r\n      ctx.fillText(num, x, y)\r\n      ctx.closePath()\r\n      ctx.restore()\r\n    }\r\n  }\r\n\r\n  drawTimeNeedle(ctx, x0, y0, lineW, L, angel, color = '#000') {\r\n    let [x, y] = [x0 + Math.cos(angel * Math.PI / 180) * L, y0 + Math.sin(angel * Math.PI / 180) * L]\r\n    ctx.save()\r\n    ctx.beginPath()\r\n    ctx.strokeStyle = color\r\n    ctx.lineWidth = lineW\r\n    ctx.lineCap = \"round\"\r\n    ctx.moveTo(x0, y0)\r\n    ctx.lineTo(x, y)\r\n    ctx.stroke()\r\n    ctx.closePath()\r\n    ctx.restore()\r\n  }\r\n\r\n  drawCircleCenter(ctx, x0, y0, color, L) {\r\n    ctx.save()\r\n    ctx.beginPath()\r\n    ctx.shadowBlur = 4\r\n    ctx.shadowColor = \"#000\"\r\n    ctx.fillStyle = color\r\n    ctx.arc(x0, y0, L, 0, 360 * Math.PI / 180)\r\n    ctx.fill()\r\n    ctx.closePath()\r\n    ctx.restore()\r\n  }\r\n\r\n  drawSenDotted(ctx, color, x0, y0, angel, L) {\r\n    let [x, y] = [x0 + Math.cos(angel * Math.PI / 180) * L, y0 + Math.sin(angel * Math.PI / 180) * L]\r\n    ctx.save()\r\n    ctx.beginPath()\r\n    ctx.fillStyle = color\r\n    ctx.arc(x, y, 7, 0, 360 * Math.PI / 180)\r\n    ctx.fill()\r\n    ctx.closePath()\r\n    ctx.restore()\r\n  }\r\n\r\n  private mounted() {\r\n    this.drawCoolClock()\r\n    this.timer = setInterval(() => {\r\n      this.drawCoolClock()\r\n    }, 30)\r\n  }\r\n\r\n  private beforeDestroy() {\r\n    clearInterval(this.timer)\r\n    this.timer = null\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.coolClockWrap {\r\n  // width: 100%;\r\n  height: 100%;\r\n  background: radial-gradient(#f8f6f5, #f7f5f4, #e4e3e2, #b9b8b7);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 10px;\r\n}\r\n\r\n</style>"]}]}