{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\src\\views\\H-Complaints\\components\\operation.vue?vue&type=style&index=0&id=5b9ff834&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\src\\views\\H-Complaints\\components\\operation.vue","mtime":1610949429055},{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\22\\hxj2221-Security-Information1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCAiLi4vY3NzL29wZXJhdGlvbi5jc3MiOw0K"},{"version":3,"sources":["operation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6mCA","file":"operation.vue","sourceRoot":"src/views/H-Complaints/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"operation\" style=\"min-height: 800px\">\r\n      <div class=\"operation-top\">\r\n        <span>投诉详情-调查中</span>\r\n        <div>\r\n          <slot name=\"records\">\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" class=\"records\"\r\n              >医患记录</el-button\r\n            >\r\n          </slot>\r\n          <slot name=\"detail\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-s-order\"\r\n              class=\"detail\"\r\n              slot=\"reference\"\r\n              @click=\"drawer = true\"\r\n              >投诉详情</el-button\r\n            >\r\n          </slot>\r\n          <slot name=\"back\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"iconfont el-icon-hospital-passwordai207\"\r\n              class=\"return\"\r\n              style=\"border: 1px solid #949aef\"\r\n              >返回</el-button\r\n            >\r\n          </slot>\r\n        </div>\r\n      </div>\r\n      <slot name=\"drawer\">\r\n       \r\n      </slot>\r\n     \r\n      <div class=\"operation-content\">\r\n        <!-- 基本信息 -->\r\n        <div class=\"box-Information\">\r\n          <div class=\"box-top\">\r\n            <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n              <el-col :span=\"7\" :push=\"1\"\r\n                ><div class=\"grid-content bg-purple\">\r\n                  <span><b>基本信息</b></span>\r\n                </div></el-col\r\n              >\r\n            </el-row>\r\n          </div>\r\n          <div class=\"box-content\">\r\n            <el-row>\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple\">\r\n                  <span class=\"label\">事件编号：</span>\r\n                </div></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple-light\">\r\n                  <span class=\"value\">{{ operationsdata.D_I_Number }}</span>\r\n                </div></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple\"></div>\r\n                <span class=\"label\">事件状态：</span></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple-light\">\r\n                  <span class=\"value\">{{ operationsdata.E_S_Name }}</span>\r\n                </div></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple\"></div>\r\n                <span class=\"label\">投诉科室：</span></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple-light\">\r\n                  <span class=\"value\">{{ operationsdata.D_Name }}</span>\r\n                </div></el-col\r\n              >\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple\">\r\n                  <span class=\"label\">投诉人姓名：</span>\r\n                </div></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple-light\">\r\n                  <span class=\"value\">{{ operationsdata.C_I_Name }}</span>\r\n                </div></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple\"></div>\r\n                <span class=\"label\">性别：</span></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple-light\">\r\n                  <span class=\"value\">{{ operationsdata.C_I_Gender }}</span>\r\n                </div></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple\"></div>\r\n                <span class=\"label\">年龄：</span></el-col\r\n              >\r\n              <el-col :span=\"4\"\r\n                ><div class=\"grid-content bg-purple-light\">\r\n                  <span class=\"value\">{{ operationsdata.C_I_Age }}</span>\r\n                </div></el-col\r\n              >\r\n            </el-row>\r\n\r\n            <div\r\n              style=\"\r\n                border-bottom: 0.5px solid #e0e2fa;\r\n                width: 100%;\r\n                margin-bottom: 20px;\r\n              \"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 科室反馈 -->\r\n        <div class=\"box-feedback\">\r\n          <div class=\"box-top\">\r\n            <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n              <el-col :span=\"7\" :push=\"1\"\r\n                ><div class=\"grid-content bg-purple\">\r\n                  <span class=\"feedback-title\"><b>科室反馈</b></span>\r\n                </div></el-col\r\n              >\r\n            </el-row>\r\n          </div>\r\n          <div class=\"feedback-content\">\r\n            <!-- 操作区域 -->\r\n            <div v-show=\"operationsdata.Event_State == 10\">\r\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                <el-col :span=\"6\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <span class=\"label\">当事员工:</span>\r\n                    <el-select v-model=\"peopel\" multiple placeholder=\"请选择\">\r\n                      <el-option\r\n                        v-for=\"item in options\"\r\n                        :key=\"item.U_ID\"\r\n                        :label=\"item.U_Name\"\r\n                        :value=\"item.U_ID\"\r\n                      >\r\n                      </el-option>\r\n                    </el-select></div\r\n                ></el-col>\r\n              </el-row>\r\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                <el-col :span=\"20\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <span class=\"label\">诊疗经过:</span>\r\n                    <el-input\r\n                      type=\"textarea\"\r\n                      v-model=\"treatment\"\r\n                      placeholder=\"请填写\"\r\n                      autosize\r\n                    ></el-input></div\r\n                ></el-col>\r\n              </el-row>\r\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                <el-col :span=\"20\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <span class=\"label\">针对性答复:</span>\r\n                    <el-input\r\n                      type=\"textarea\"\r\n                      v-model=\"response\"\r\n                      placeholder=\"请填写\"\r\n                      autosize\r\n                    ></el-input></div\r\n                ></el-col>\r\n              </el-row>\r\n            </div>\r\n            <!-- 改进完成科室 -->\r\n            <div v-show=\"operationsdata.Event_State == 19\">\r\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                <el-col :span=\"6\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <span class=\"label\">选择责任人:</span>\r\n                    <el-select v-model=\"liable\" placeholder=\"请选择责任人\">\r\n                      <el-option\r\n                        v-for=\"item in liablelist\"\r\n                        :key=\"item.U_ID\"\r\n                        :label=\"item.U_Name\"\r\n                        :value=\"item.U_ID\"\r\n                      >\r\n                      </el-option>\r\n                    </el-select></div\r\n                ></el-col>\r\n              </el-row>\r\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                <el-col :span=\"20\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <span class=\"label\">根因分析:</span>\r\n                    <el-input\r\n                      type=\"textarea\"\r\n                      v-model=\"analysis\"\r\n                      placeholder=\"请填写\"\r\n                      autosize\r\n                    ></el-input></div\r\n                ></el-col>\r\n              </el-row>\r\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                <el-col :span=\"20\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <span class=\"label\">责任意见:</span>\r\n                    <el-input\r\n                      type=\"textarea\"\r\n                      v-model=\"responsibility\"\r\n                      placeholder=\"请填写\"\r\n                      autosize\r\n                    ></el-input></div\r\n                ></el-col>\r\n              </el-row>\r\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                <el-col :span=\"20\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <span class=\"label\">整改措施:</span>\r\n                    <el-input\r\n                      type=\"textarea\"\r\n                      v-model=\"rectification\"\r\n                      placeholder=\"请填写\"\r\n                      autosize\r\n                    ></el-input></div\r\n                ></el-col>\r\n              </el-row>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 审批操作 -->\r\n        <div\r\n          class=\"box-feedback\"\r\n          v-show=\"\r\n            operationsdata.Event_State !== 10 &&\r\n            operationsdata.Event_State !== 19\r\n          \"\r\n        >\r\n          <div class=\"box-top\">\r\n            <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n              <el-col :span=\"7\" :push=\"1\"\r\n                ><div class=\"grid-content bg-purple\">\r\n                  <span class=\"feedback-title\"><b>审批操作</b></span>\r\n                </div></el-col\r\n              >\r\n            </el-row>\r\n          </div>\r\n          <div class=\"feedback-content\">\r\n            <!-- 操作区域 -->\r\n            <div>\r\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                <el-col :span=\"6\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <span class=\"label\">审批操作:</span>\r\n                    <el-select\r\n                      v-model=\"checkstate\"\r\n                      placeholder=\"请选择事件状态\"\r\n                    >\r\n                      <el-option\r\n                        v-for=\"item in statelist\"\r\n                        :key=\"item.D_M_ID\"\r\n                        :label=\"item.D_M_Name\"\r\n                        :value=\"item.D_M_ID\"\r\n                      >\r\n                      </el-option>\r\n                    </el-select></div\r\n                ></el-col>\r\n              </el-row>\r\n              <!-- 经办人信息 -->\r\n\r\n              <!-- 退回 -->\r\n              <div v-show=\"checkstate == 9\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"20\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">退回原因:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"sendreson\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n              </div>\r\n              <!-- 驳回 -->\r\n              <div v-show=\"checkstate == 8\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"20\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">驳回原因:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"rejectreson\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n              </div>\r\n              <!-- 科室自查 -->\r\n              <div v-show=\"checkstate == 10\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"6\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">选择下发科室:</span>\r\n                      <el-cascader\r\n                        style=\"margin-left: 10px\"\r\n                        ref=\"cascader\"\r\n                        :options=\"issuelist\"\r\n                        :props=\"{\r\n                          value: 'D_ID',\r\n                          label: 'Name',\r\n                          children: 'list',\r\n                          multiple: 'true',\r\n                        }\"\r\n                        :show-all-levels=\"false\"\r\n                        v-model=\"issue\"\r\n                        clearable\r\n                      ></el-cascader></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"6\" :push=\"1\"\r\n                    ><div\r\n                      class=\"grid-content bg-purple\"\r\n                      style=\"margin-left: 10px\"\r\n                    >\r\n                      <span class=\"label\">输入天数:</span>\r\n                      <el-input\r\n                        type=\"input\"\r\n                        v-model=\"needtime\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n              </div>\r\n              <!-- 院内讨论 -->\r\n              <div v-show=\"checkstate == 12\">\r\n                    <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"6\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">选择抄送部门:</span>\r\n                      <el-cascader\r\n                        style=\"margin-left: 10px\"\r\n                        ref=\"cascader\"\r\n                        :options=\"issuelist\"\r\n                        :props=\"{\r\n                          value: 'D_ID',\r\n                          label: 'Name',\r\n                          children: 'list',\r\n                          multiple: 'true',\r\n                        }\"\r\n                        :show-all-levels=\"false\"\r\n                        v-model=\"duplicate\"\r\n                        clearable\r\n                      ></el-cascader></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"20\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">主要事实:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"facts\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"20\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">争议焦点:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"focus\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n              </div>\r\n              <!-- 医患沟通 -->\r\n              <div\r\n                v-show=\"\r\n                  checkstate == 42 ||\r\n                  checkstate == 14 ||\r\n                  checkstate == 15 ||\r\n                  checkstate == 16 ||\r\n                  checkstate == 17 ||\r\n                  checkstate == 18 ||\r\n                  checkstate == 13\r\n                \"\r\n              >\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"6\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">约定日期:</span>\r\n                      <el-input\r\n                        style=\"margin-left: 10px\"\r\n                        type=\"input\"\r\n                        v-model=\"date\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row\r\n                  type=\"flex\"\r\n                  class=\"row-bg\"\r\n                  justify=\"space-between\"\r\n                  v-show=\"\r\n                    checkstate == 42 ||\r\n                    checkstate == 14 ||\r\n                    checkstate == 15 ||\r\n                    checkstate == 16 ||\r\n                    checkstate == 17 ||\r\n                    checkstate == 18\r\n                  \"\r\n                >\r\n                  <el-col :span=\"20\" :push=\"1\">\r\n                    <div\r\n                      class=\"grid-content bg-purple\"\r\n                      v-show=\"checkstate == 42\"\r\n                    >\r\n                      <span class=\"label\">初步意见:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"preliminary\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input>\r\n                    </div>\r\n                    <div\r\n                      class=\"grid-content bg-purple\"\r\n                      v-show=\"checkstate == 14 || checkstate == 18\"\r\n                    >\r\n                      <span class=\"label\">情况说明:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"note\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input>\r\n                    </div>\r\n                    <div\r\n                      v-show=\"checkstate == 15\"\r\n                      class=\"grid-content bg-purple\"\r\n                    >\r\n                      <span class=\"label\">处理意见:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"Handling\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input>\r\n                    </div>\r\n                    <div\r\n                      v-show=\"checkstate == 16 || checkstate == 17\"\r\n                      class=\"grid-content bg-purple\"\r\n                    >\r\n                      <span class=\"label\">事实及理由:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"reasons\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n              <!-- 持续改进【科室】 -->\r\n              <div v-show=\"checkstate == 19\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"6\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">选择下发科室:</span>\r\n                      <el-cascader\r\n                        style=\"margin-left: 10px\"\r\n                        ref=\"cascader\"\r\n                        :options=\"Kaizenlist\"\r\n                        :props=\"{\r\n                          value: 'D_ID',\r\n                          label: 'Name',\r\n                          children: 'list',\r\n                          multiple: 'true',\r\n                        }\"\r\n                        :show-all-levels=\"false\"\r\n                        v-model=\"Kaizen\"\r\n                        clearable\r\n                      ></el-cascader></div\r\n                  ></el-col>\r\n                </el-row>\r\n              </div>\r\n\r\n              <!-- 改进完成医院 -->\r\n              <div v-show=\"checkstate == 22\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"20\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">处理意见:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"Handling\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"20\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">管理措施:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"measures\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n              </div>\r\n              <!-- 结束 -->\r\n              <div v-show=\"checkstate == 23\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"6\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">选择责任科室:</span>\r\n                      <el-cascader\r\n                        style=\"margin-left: 10px\"\r\n                        ref=\"cascader\"\r\n                        :options=\"dutylist\"\r\n                        :props=\"{\r\n                          value: 'D_ID',\r\n                          label: 'Name',\r\n                          children: 'list',\r\n                          multiple: 'true',\r\n                        }\"\r\n                        :show-all-levels=\"false\"\r\n                        v-model=\"duty\"\r\n                        clearable\r\n                      ></el-cascader></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"6\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">投诉类别:</span>\r\n                      <el-select v-model=\"type\" placeholder=\"请选择投诉类别\">\r\n                        <el-option\r\n                          v-for=\"item in typelist\"\r\n                          :key=\"item.D_M_ID\"\r\n                          :label=\"item.D_M_Name\"\r\n                          :value=\"item.D_M_ID\"\r\n                        >\r\n                        </el-option>\r\n                      </el-select></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"6\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">选择责任度:</span>\r\n                      <el-select v-model=\"degree\" placeholder=\"请选择责任度\">\r\n                        <el-option\r\n                          v-for=\"item in degreelist\"\r\n                          :key=\"item.D_M_ID\"\r\n                          :label=\"item.D_M_Name\"\r\n                          :value=\"item.D_M_ID\"\r\n                        >\r\n                        </el-option>\r\n                      </el-select></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"20\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">直接经济损失:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"loss\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"20\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">处理意见:</span>\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"Handling\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n              </div>\r\n            </div>\r\n            <div\r\n              class=\"box-feedback\"\r\n              v-show=\"checkstate == 8 || checkstate == 9 || checkstate == 7\"\r\n            >\r\n              <div class=\"box-top\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"7\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"feedback-title\"><b>经办人信息</b></span>\r\n                    </div></el-col\r\n                  >\r\n                </el-row>\r\n              </div>\r\n              <div class=\"feedback-content\">\r\n                <!-- 操作区域 -->\r\n\r\n                <el-row\r\n                  type=\"flex\"\r\n                  class=\"row-bg\"\r\n                  justify=\"space-between\"\r\n                  style=\"margin-left: 10px\"\r\n                >\r\n                  <el-col :span=\"10\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">经办人姓名:</span>\r\n                      <el-input\r\n                        type=\"input\"\r\n                        v-model=\"agentname\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n                <el-row\r\n                  type=\"flex\"\r\n                  class=\"row-bg\"\r\n                  justify=\"space-between\"\r\n                  style=\"margin-left: 10px\"\r\n                >\r\n                  <el-col :span=\"10\" :push=\"1\"\r\n                    ><div class=\"grid-content bg-purple\">\r\n                      <span class=\"label\">经办人联系电话:</span>\r\n                      <el-input\r\n                        type=\"input\"\r\n                        v-model=\"agentphone\"\r\n                        placeholder=\"请填写\"\r\n                        autosize\r\n                      ></el-input></div\r\n                  ></el-col>\r\n                </el-row>\r\n              </div>\r\n            </div>\r\n            <!-- 附件 -->\r\n            <div\r\n              v-show=\"\r\n                checkstate == 10 ||\r\n                checkstate == 11 ||\r\n                checkstate == 13 ||\r\n                checkstate == 14 ||\r\n                checkstate == 16 ||\r\n                checkstate == 17 ||\r\n                checkstate == 18 ||\r\n                checkstate == 21 ||\r\n                checkstate == 22\r\n              \"\r\n            >\r\n              <el-row\r\n                type=\"flex\"\r\n                class=\"row-bg\"\r\n                justify=\"space-between\"\r\n                style=\"margin: 20px 0\"\r\n              >\r\n                <el-col :span=\"15\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <span class=\"label\">附件信息:</span>\r\n                  </div></el-col\r\n                >\r\n                <el-col :span=\"2\" :pull=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <el-button\r\n                      type=\"primary\"\r\n                      icon=\"el-icon-circle-plus\"\r\n                      @click=\"upfile()\"\r\n                      style=\"background-color: #666ee8; border: none\"\r\n                      >上传附件</el-button\r\n                    >\r\n                  </div></el-col\r\n                >\r\n              </el-row>\r\n              <el-row\r\n                type=\"flex\"\r\n                class=\"row-bg\"\r\n                justify=\"space-between\"\r\n                v-show=\"filelist.length !== 0\"\r\n              >\r\n                <el-col :span=\"22\" :push=\"1\"\r\n                  ><div class=\"grid-content bg-purple\">\r\n                    <el-table\r\n                      :data=\"filelist\"\r\n                      style=\"width: 100%\"\r\n                      :header-cell-style=\"getRowClass\"\r\n                    >\r\n                      <el-table-column prop=\"ID\" label=\"ID\" width=\"width\">\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"filename\"\r\n                        label=\"文件名\"\r\n                        width=\"width\"\r\n                      >\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"describe\"\r\n                        label=\"描述\"\r\n                        width=\"width\"\r\n                      >\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"filesize\"\r\n                        label=\"文件大小\"\r\n                        width=\"width\"\r\n                      >\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"uptime\"\r\n                        label=\"更新时间\"\r\n                        width=\"width\"\r\n                      >\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"filetype\"\r\n                        label=\"文件类型\"\r\n                        width=\"width\"\r\n                      >\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"uploader\"\r\n                        label=\"上传人员\"\r\n                        width=\"width\"\r\n                      >\r\n                      </el-table-column>\r\n                      <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\r\n                        <template slot-scope=\"scope\">\r\n                          <slot name=\"fileoper\">\r\n                            <el-button\r\n                              @click=\"handleClick(scope.row)\"\r\n                              type=\"text\"\r\n                              size=\"small\"\r\n                              >下载</el-button\r\n                            >\r\n                            <el-button type=\"text\" size=\"small\">删除</el-button>\r\n                          </slot>\r\n                        </template>\r\n                      </el-table-column>\r\n                    </el-table>\r\n                  </div></el-col\r\n                >\r\n              </el-row>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 提交 -->\r\n        <div class=\"box-button\">\r\n          <slot name=\"submit\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-finished\"\r\n              v-show=\"\r\n                (checkstate !== 10 &&\r\n                  checkstate !== 19 &&\r\n                  checkstate !== 9 &&\r\n                  checkstate !== 8) ||\r\n                operationsdata.Event_State == 10\r\n              \"\r\n              @click=\"submit\"\r\n              >确认提交</el-button\r\n            >\r\n            <el-button\r\n              type=\"primary\"\r\n              v-show=\"checkstate == 10 || checkstate == 19\"\r\n              @click=\"Issue\"\r\n              >下发</el-button\r\n            >\r\n            <el-button type=\"primary\" v-show=\"checkstate == 9\" @click=\"send\"\r\n              >退回</el-button\r\n            >\r\n            <el-button type=\"primary\" v-show=\"checkstate == 8\" @click=\"reject\"\r\n              >驳回</el-button\r\n            >\r\n          </slot>\r\n        </div>\r\n      </div>\r\n      <!-- 投诉详情 -->\r\n\r\n      <!-- 上传文件弹窗 -->\r\n      <div class=\"upfile\">\r\n        <el-dialog\r\n          title=\"上传文件\"\r\n          :visible.sync=\"upfiles\"\r\n          width=\"30%\"\r\n          style=\"margin-top: 8%\"\r\n          :before-close=\"Close\"\r\n        >\r\n          <el-form ref=\"form\" label-width=\"90px\">\r\n            <el-form-item label=\"文件标题：\">\r\n              <el-input\r\n                v-model=\"filetitle\"\r\n                placeholder=\"请输入文件标题\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"文件描述：\">\r\n              <el-input\r\n                type=\"textarea\"\r\n                v-model=\"filedescribe\"\r\n                placeholder=\"请输入文件描述\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"上传附件：\" class=\"uploadfile\">\r\n              <el-input\r\n                v-model=\"uploadfile\"\r\n                type=\"file\"\r\n                style=\"border: none\"\r\n                class=\"uploadfile\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <el-button type=\"primary\" icon=\"el-icon-upload\" class=\"uploadfiles\"\r\n            >上传文件</el-button\r\n          >\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"upfiles = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"upfiles = false\">确 定</el-button>\r\n          </span>\r\n        </el-dialog>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport service from \"@/service\";\r\nimport Look from \"../components/Look\";\r\nimport qss from \"@/service/qs\";\r\nimport qs from \"qs\";\r\nexport default {\r\n  props: { operationsdata: \"\" },\r\n  components: {\r\n    Look,\r\n  },\r\n  data() {\r\n    return {\r\n      duplicate:'',//抄送部门\r\n      rejectreson: \"\", //驳回原因\r\n      sendreson: \"\", //退回原因\r\n      reasons: \"\", //事实及理由\r\n      Handling: \"\", //处理意见\r\n      note: \"\", //情况说明\r\n      date: \"\", //约定日期\r\n      liable: \"\", //责任人\r\n      liablelist: [], //责任人列表\r\n      type: \"\", //投诉类别\r\n      typelist: \"\", //投诉类别列表\r\n      degree: \"\", //责任度\r\n      degreelist: \"\", //责任度列表\r\n      agentname: \"\", //经办人姓名\r\n      agentphone: \"\", //经办人联系方式\r\n      treatment: \"\", // 诊疗经过\r\n      response: \"\", //针对性答复\r\n      needtime: \"\", //输入天数\r\n      issue: \"\", //下发科室\r\n      issuelist: [], //科室列表\r\n      Kaizen: \"\", //持续改进\r\n      Kaizenlist: [], //科室列表\r\n      duty: \"\", //责任科室\r\n      dutylist: [], //责任科室列表\r\n      facts: \"\", //主要事实\r\n      focus: \"\", //争议焦点\r\n      analysis: \"\", //根因分析\r\n      loss: \"\", //经济损失\r\n      responsibility: \"\", //责任意见\r\n      measures: \"\", //管理措施\r\n      rectification: \"\", //整改措施\r\n      preliminary: \"\", //初步意见\r\n      checkstate: \"请选择\", //选中状态\r\n      statelist: [], //状态列表\r\n      drawer: false,\r\n      uploadfile: \"\", //上传附件\r\n      filedescribe: \"\", //文件描述\r\n      form: \"\",\r\n      filetitle: \"\", //文件标题\r\n      upfiles: false,\r\n\r\n      dialogVisibless: false,\r\n      reason: \"\", //投诉原因\r\n      peopel: \"\", //当事员工\r\n      options: [\r\n        //员工列表\r\n        {\r\n          value: \"1\",\r\n          lable: \"终止\",\r\n        },\r\n      ],\r\n      filelist: [\r\n        // {\r\n        //   ID: \"FJ20201229001\",\r\n        //   filename: \"调解书\",\r\n        //   describe: \"这是一个调解书\",\r\n        //   filesize: \"32.23kb\",\r\n        //   uptime: \"2020-12-02 20:56:37\",\r\n        //   filetype: \"jpg\",\r\n        //   uploader: \"王丽\",\r\n        // }\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    submit() {\r\n      // console.log(this.$parent.operationsdata);\r\n      // let duty = this.duty.map((x) => {\r\n      //   return x[1];\r\n      // });\r\n      // var params = {\r\n      //   A_Opinion: this.Handling, //处理意见\r\n      //   A_Main_Facts: this.facts, //主要事实\r\n      //   A_Dispute: this.focus, //争议焦点\r\n      //   A_Preliminary_Comments: this.preliminary, //初步意见\r\n      //   A_Appointment_Date: this.date, //约定日期\r\n      //   A_Information_Note: this.note, //情况说明\r\n      //   A_Reason: this.reasons, //事实及理由\r\n      //   A_Measures: this.measures, //管理措施\r\n      //   A_Economic_Loss: this.loss, //直接经济损失\r\n      //   Complaint_D_M_ID: this.type, //投诉类别\r\n      //   D_I_Number: this.$parent.operationsdata.D_I_Number, //事件编号\r\n      //   New_D_M_ID: this.checkstate, //选中状态\r\n      //   A_Operation: 12, //当前登录人id\r\n      //   D_M_ID: this.$parent.operationsdata.E_S_ID, //改变前的状态\r\n      //   U_ID: this.liable, //责任人\r\n      //   New_Ag_Name: this.agentname, //新的经办人                                  经办人变更要不要记录\r\n      //   Ag_Phone: this.agentphone, //经办人联系方式\r\n      //   E_Number: \"\", //附件编号\r\n      //   // Duty: duty.toString(), //责任科室\r\n      //   Peopel: this.peopel.toString(), //当事员工\r\n      //   I_After: this.treatment, //诊疗经过\r\n      //   I_Reply: this.response, //针对性答复\r\n      //   CC: this.duplicate, //抄送部门\r\n      //   A_Input:this.needtime,//输入天数\r\n      //   K_Identification: 2, //持续改进标识 0 医院 1 科室\r\n      // };\r\n      // console.log(params);\r\n      //改进完成（科室）\r\n      if (this.$parent.operationsdata.E_S_ID == 19) {\r\n        let data = {\r\n          D_I_Number: this.$parent.operationsdata.D_I_Number, //事件编号\r\n          U_ID: this.liable, //责任人\r\n          K_Operation: 12, //当前登录人id\r\n          E_Number: \"\", //附件编号\r\n          K_Analysis: this.analysis, //根因分析\r\n          K_Opinion: this.responsibility, //责任意见\r\n          K_Measures: this.rectification, //整改措施\r\n          K_Identification: 1, //持续改进标识 1 为科室\r\n        };\r\n        console.log(123);\r\n        service.AddKaizen(qs.stringify(data)).then((res) => {\r\n          console.log(res);\r\n        });\r\n      } else if (this.$parent.operationsdata.E_S_ID == 10) {\r\n        //科室调查\r\n        let params = {\r\n          D_I_Number: this.$parent.operationsdata.D_I_Number, //事件编号\r\n          A_Operation: 12, //当前登录人id\r\n          E_Number: \"\", //附件编号\r\n          Peopel: this.peopel.toString(), //当事员工\r\n          I_After: this.treatment, //诊疗经过\r\n          I_Reply: this.response, //针对性答复\r\n        };\r\n        service.AddInvestigation(qs.stringify(params)).then((res) => {\r\n          console.log(res);\r\n        });\r\n      } else if (this.checkstate == 22) {\r\n        //改进完成（医院）\r\n        let params = {\r\n          K_Identification: 0, //持续改进标识 0 为医院\r\n          D_I_Number: this.$parent.operationsdata.D_I_Number, //事件编号\r\n          K_Operation: 12, //当前登录人id\r\n          A_Operation: 12, //当前登录人id\r\n          E_Number: \"\", //附件编号\r\n          K_Opinion: this.Handling, //处理意见\r\n          K_Measures: this.measures, //管理措施\r\n          New_D_M_ID: this.checkstate, //选中状态\r\n        };\r\n        service.AddApproval(qs.stringify(params)).then((res) => {\r\n          console.log(res);\r\n        });\r\n      } else {\r\n        let params = {\r\n          D_I_Number: this.$parent.operationsdata.D_I_Number, //事件编号\r\n          A_Operation: 12, //当前登录人id\r\n          New_D_M_ID: this.checkstate, //选中状态\r\n          D_M_ID: this.$parent.operationsdata.E_S_ID, //改变前的状态\r\n        };\r\n        service.AddApproval(qs.stringify(params)).then((res) => {\r\n          console.log(res);\r\n        });\r\n      }\r\n    },\r\n\r\n    // 退回\r\n    send() {\r\n      var params = {\r\n        D_I_Number: this.$parent.operationsdata.D_I_Number, //事件编号\r\n        New_D_M_ID: this.checkstate, //选中状态\r\n        A_Operation: 1, //当前登录人id\r\n        D_M_ID: this.$parent.operationsdata.E_S_ID, //改变前的状态\r\n        New_Ag_Name: this.agentname, //新的经办人                                  经办人变更要不要记录\r\n        Ag_Phone: this.agentphone, //经办人联系方式\r\n        A_Return_Reasons: this.sendreson, //退回原因\r\n      };\r\n      console.log(params);\r\n\r\n      service.AddApproval(qs.stringify(params)).then((res) => {\r\n        console.log(res);\r\n      });\r\n    },\r\n    // 驳回\r\n    reject() {\r\n      var params = {\r\n        D_I_Number: this.$parent.operationsdata.D_I_Number, //事件编号\r\n        New_D_M_ID: this.checkstate, //选中状态\r\n        A_Operation: 1, //当前登录人id\r\n        D_M_ID: this.$parent.operationsdata.E_S_ID, //改变前的状态\r\n        New_Ag_Name: this.agentname, //新的经办人                                  经办人变更要不要记录\r\n        Ag_Phone: this.agentphone, //经办人联系方式\r\n        A_Reject_Reasons: this.rejectreson, //驳回原因\r\n      };\r\n      console.log(params);\r\n\r\n      service.AddApproval(qs.stringify(params)).then((res) => {\r\n        console.log(res);\r\n      });\r\n    },\r\n    // 下发\r\n    Issue() {\r\n      console.log(this.issue);\r\n\r\n      let issue = \"\";\r\n      if (this.issue !== \"\") {\r\n        issue = this.issue.map((x) => {\r\n          return x[1];\r\n        });\r\n      }\r\n      let Kaizen = \"\";\r\n      if (this.Kaizen !== \"\") {\r\n        Kaizen = this.Kaizen.map((x) => {\r\n          return x[1];\r\n        });\r\n      }\r\n\r\n      var params = {\r\n        D_I_Number: this.$parent.operationsdata.D_I_Number, //事件编号\r\n        New_D_M_ID: this.checkstate, //选中状态\r\n        A_Operation: 1, //当前登录人id\r\n        D_M_ID: this.$parent.operationsdata.E_S_ID, //改变前的状态\r\n        New_Ag_Name: this.agentname, //新的经办人                                  经办人变更要不要记录\r\n        Ag_Phone: this.agentphone, //经办人联系方式\r\n        E_Number: \"\", //附件编号\r\n        Kaizen: Kaizen.toString(), //持续改进（科室）\r\n        D_Name: issue.toString(), //下发科室\r\n        K_Identification: 1, //持续改进标识 1 为科室\r\n      };\r\n      console.log(params);\r\n      service.AddApproval(qs.stringify(params)).then((res) => {\r\n        console.log(res);\r\n      });\r\n      // console.log(issue);\r\n      if (this.checkstate == 10) {\r\n      } else if (this.checkstate == 19) {\r\n      }\r\n    },\r\n    handleClose() {\r\n      this.dialogVisibless = false;\r\n    },\r\n    Close() {\r\n      this.upfiles = false;\r\n    },\r\n    //   投诉详情\r\n    detaile() {\r\n      if (this.dialogVisibless != true) {\r\n        this.dialogVisibless = true;\r\n      } else {\r\n        this.dialogVisibless = false;\r\n      }\r\n    },\r\n    //   上传文件弹窗\r\n\r\n    upfile() {\r\n      this.upfiles = true;\r\n    },\r\n    // 设置表头颜色\r\n    getRowClass({ rowIndex }) {\r\n      if (rowIndex == 0) {\r\n        return \"background:#c2c5f6;color:#000\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    var id = 1; //当前登录人id\r\n    \r\n    service.AddManaged(4).then((res) => {\r\n      this.statelist = res.data;\r\n    });\r\n    service.AddManaged(3).then((res) => {\r\n      this.typelist = res.data;\r\n    });\r\n    service.AddManaged(9).then((res) => {\r\n      this.degreelist = res.data;\r\n    });\r\n    service.AddDepartment().then((res) => {\r\n      this.issuelist = res.data;\r\n      this.dutylist = res.data;\r\n      this.Kaizenlist = res.data;\r\n    });\r\n    service.Party(id).then((res) => {\r\n      this.liablelist = res.Party;\r\n      this.options = res.Party;\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n@import \"../css/operation.css\";\r\n</style>\r\n"]}]}