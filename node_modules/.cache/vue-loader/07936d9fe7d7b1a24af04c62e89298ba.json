{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\H-Staff\\component\\add.vue?vue&type=style&index=0&id=64aba351&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\H-Staff\\component\\add.vue","mtime":1610700196416},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0ICJhZGQuY3NzIjsNCg=="},{"version":3,"sources":["add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmZA","file":"add.vue","sourceRoot":"src/views/H-Staff/component","sourcesContent":["<template>\r\n  <div class=\"addstaffall\">\r\n    <!-- top -->\r\n    <div class=\"staffThre\">\r\n      <span class=\"staffSpan\">新增员工信息</span>\r\n      <div class=\"staffThre_div\">\r\n        <el-button class=\"staffgr\" @click=\"staffaddvueyes\">保存</el-button>\r\n        <el-button class=\"staffb\" @click=\"staffaddvueno\">返回</el-button>\r\n      </div>\r\n    </div>\r\n    <hr class=\"staffWidhr\" />\r\n    <!-- add -->\r\n    <div class=\"addmain\">\r\n      <el-form ref=\"form\" :model=\"addStaff\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"员工编号\" disabled>\r\n              <el-input\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                disabled=\"disabled\"\r\n                v-model=\"addStaff.job_number\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"员工姓名\" required>\r\n              <el-input\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                v-model=\"addStaff.name\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"年龄\" required>\r\n              <el-input type=\"number\" v-model=\"addStaff.age\"></el-input>\r\n              <!-- <el-input placeholder=\"请输入内容\" v-model=\"staffAgeipt\" class=\"\">\r\n                <template slot=\"append\">\r\n                  <el-select\r\n                    type=\"input\"\r\n                    style=\"width: 90px\"\r\n                    autosize\r\n                    v-model=\"staffAgesel\"\r\n                    placeholder=\"请选择\"\r\n                  >\r\n                    <el-option\r\n                      v-for=\"item in optionages\"\r\n                      :key=\"item.value\"\r\n                      :label=\"item.label\"\r\n                      :value=\"item.value\"\r\n                    >\r\n                    </el-option>\r\n                  </el-select>\r\n                </template>\r\n              </el-input> -->\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"性别\" required>\r\n              <el-select\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                v-model=\"addStaff.sex\"\r\n                style=\"margin-top: 40px\"\r\n                placeholder=\"请选择\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in optiongen\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"手机号码\" required>\r\n              <el-input\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                v-model=\"addStaff.phone\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"电子邮箱\" required>\r\n              <el-input\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                v-model=\"addStaff.email\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"证件号码\" required>\r\n              <el-input\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                v-model=\"addStaff.cardnumber\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"职位\" required>\r\n              <el-input\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                v-model=\"addStaff.position\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"地址\" required>\r\n              <!-- <el-cascader\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                style=\"\r\n                  display: block;\r\n                  position: relative;\r\n                  font-size: 14px;\r\n                  line-height: 40px;\r\n                \"\r\n                v-model=\"addStaff.address\"\r\n                :options=\"city\"\r\n                placeholder=\"请选择内容\"\r\n              ></el-cascader> -->\r\n              <el-cascader\r\n                class=\"dialog-input-text\"\r\n                style=\"\r\n                  display: block;\r\n                  position: relative;\r\n                  font-size: 14px;\r\n                  line-height: 40px;\r\n                \"\r\n                size=\"large\"\r\n                :options=\"options\"\r\n                v-model=\"addStaff.address\"\r\n                @change=\"handleChange\"\r\n              >\r\n              </el-cascader>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"16\">\r\n            <el-form-item label=\"详细地址\" required>\r\n              <el-input\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                v-model=\"addStaff.eraddress\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\"> </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item class=\"ssks\" label=\"所属科室\" required>\r\n              <el-select\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                v-model=\"addStaff.staffdepart\"\r\n                style=\"margin-top: 40px\"\r\n                placeholder=\"请选择\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in optiondepart\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.title\"\r\n                  :value=\"item.id\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"角色\" required>\r\n              <el-select\r\n                class=\"dialog-input-text\"\r\n                type=\"input\"\r\n                autosize\r\n                style=\"margin-top: 40px\"\r\n                @change=\"one\"\r\n                v-model=\"addStaff.staffrolesel\"\r\n                multiple\r\n                placeholder=\"请选择\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in optionrole\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.title\"\r\n                  :value=\"item.id\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item style=\"margin-top: 40px\" label=\"科室负责人\">\r\n              <el-switch\r\n                v-model=\"addStaff.head_department\"\r\n                :active-value=\"0\"\r\n                :inactive-value=\"1\"\r\n                active-color=\"#13ce66\"\r\n                inactive-color=\"#ff4949\"\r\n              >\r\n              </el-switch>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\"> </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"密码\" required>\r\n              <el-input\r\n                class=\"dialog-input-text\"\r\n                type=\"password\"\r\n                autosize\r\n                v-model=\"addStaff.password\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item style=\"margin-top: 40px\" label=\"员工状态\">\r\n              <el-switch\r\n                v-model=\"addStaff.status\"\r\n                :active-value=\"1\"\r\n                :inactive-value=\"2\"\r\n                active-color=\"#13ce66\"\r\n                inactive-color=\"#ff4949\"\r\n              >\r\n              </el-switch>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\"> </el-col>\r\n          <el-col :span=\"8\"> </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 添加员工，调后台\r\nimport { Aepyee } from \"@/network/Sta.js\";\r\n\r\nimport qs from \"qs\";\r\nimport service from \"@/service/index\";\r\n//地址级联选择器\r\nimport {\r\n  provinceAndCityData,\r\n  regionData,\r\n  provinceAndCityDataPlus,\r\n  regionDataPlus,\r\n  CodeToText,\r\n  TextToCode,\r\n} from \"element-china-area-data\";\r\nexport default {\r\n  components: {},\r\n    inject: [\"reload\"],\r\n  props: {},\r\n  data() {\r\n    return {\r\n      options: regionData,\r\n      addStaff: {\r\n        job_number: \"\", // 员工编号\r\n        // staffNumInput: \"\",\r\n        name: \"\", // 姓名\r\n        age: \"\", //年龄\r\n        // staffAgesel: \"\", //年龄岁月天\r\n        sex: \"\", //性别\r\n        phone: \"\", //手机号\r\n        email: \"\", //电子邮箱\r\n        cardnumber: \"\", //证件号码\r\n        position: \"\", //职位\r\n        eraddress: \"\", //详细地址\r\n        staffdepart: \"\", //所属科室\r\n        staffrolesel: [], //角色\r\n        head_department: \"\", //科室负责人\r\n        status: \"\", //员工状态\r\n        password: \"\", //密码\r\n        address: [], //地址\r\n      },\r\n      addressC: [],\r\n      staffroleselC: [],\r\n      // 性别循环\r\n      optiongen: [\r\n        {\r\n          value: \"1\",\r\n          label: \"男\",\r\n        },\r\n        {\r\n          value: \"0\",\r\n          label: \"女\",\r\n        },\r\n        {\r\n          value: \"2\",\r\n          label: \"未知\",\r\n        },\r\n      ],\r\n      // 科室\r\n      optiondepart: [],\r\n      // 角色\r\n      optionrole: [],\r\n    };\r\n  },\r\n  methods: {\r\n    one(val) {\r\n      for (let i = 0; i <= val.length - 1; i++) {\r\n        let a = val[i];\r\n        this.staffroleselC= a;\r\n        console.log(this.staffroleselC);\r\n      }\r\n    },\r\n    // 保存\r\n    staffaddvueyes() {\r\n      // let params = this.addStaff\r\n      console.log(this.addStaff.address);\r\n      let data = {\r\n        // job_number: this.addStaff.job_number,\r\n        name: this.addStaff.name,\r\n        password: this.addStaff.password,\r\n        sex: this.addStaff.sex,\r\n        email: this.addStaff.email,\r\n        phone: this.addStaff.phone,\r\n        address: this.addStaff.address,\r\n        eraddress: this.addStaff.eraddress,\r\n        position: this.addStaff.position,\r\n        age: this.addStaff.age,\r\n        // specific_age: this.addStaff.age,\r\n        cardnumber: this.addStaff.cardnumber,\r\n        head_department: this.addStaff.head_department,\r\n        status: this.addStaff.status,\r\n        role_id: this.staffroleselC,\r\n        department_id: this.addStaff.staffdepart,\r\n      };\r\n      console.log(data);\r\n      service.staffAdd(data).then((res) => {\r\n        console.log(res);\r\n        if (res.code == \"20010\") {\r\n          const loading = this.$loading({\r\n            lock: true,\r\n            text: \"保存中\",\r\n            spinner: \"el-icon-loading\",\r\n            background: \"rgba(0, 0, 0, 0.7)\",\r\n          });\r\n          setTimeout(() => {\r\n            loading.close();\r\n            this.reload();\r\n          }, 2000);\r\n          this.$parent.fathstaffyes();\r\n        } else {\r\n             this.$message.error(res.code);\r\n        }\r\n      });\r\n    },\r\n    handleChange(cityvalue) {\r\n//       console.log(\r\n//         CodeToText[cityvalue[0]],\r\n//         CodeToText[cityvalue[1]],\r\n//         CodeToText[cityvalue[2]]\r\n//       );\r\n//       this.addressC =\r\n//         CodeToText[cityvalue[0]] +\r\n//         \"/\" +\r\n//         CodeToText[cityvalue[1]] +\r\n//         \"/\" +\r\n//         CodeToText[cityvalue[2]];\r\n// console.log(this.addressC)\r\n//       console.log(this.addStaff.address);\r\n    },\r\n    // 子调用父\r\n    staffaddvueno() {\r\n      this.$parent.fathstaffno();\r\n    },\r\n  },\r\n  created() {\r\n    // 获取到的科室和角色\r\n    let self = this;\r\n    this.bus.$on(\"ReceiveMessage\", function (item) {\r\n      console.log(item);\r\n      self.optiondepart = item.department;\r\n      self.optionrole = item.auth_grouap;\r\n      self.addStaff.job_number=item.job_number\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n@import \"add.css\";\r\n</style>\r\n"]}]}