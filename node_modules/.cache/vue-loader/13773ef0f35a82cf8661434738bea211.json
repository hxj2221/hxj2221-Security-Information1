{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\Login\\component\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\Login\\component\\login\\index.vue","mtime":1610279272893},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc2VydmljZSBmcm9tICJAL3NlcnZpY2UvaW5kZXgiOw0KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IHsgYXN5bmNSb3V0ZXMgfSBmcm9tICJAL3JvdXRlci9pbmRleCI7DQppbXBvcnQgeyBMb2dpbiB9IGZyb20gIkAvbmV0d29yay9Mb2dpbiI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgaW5qZWN0OiBbInJlbG9hZCJdLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzcmM6ICJodHRwOi8vYnQxLndscXFscC5jb206ODA4Mi9hcGkvbG9naW4vY2FwdGNoYSIsDQogICAgICBoZWlnaHQ6IDAsDQogICAgICBvcHRpb25zOiBbDQogICAgICAgIHsNCiAgICAgICAgICBpZDogMSwNCiAgICAgICAgICBuYW1lOiAi5YWw5bee5aSn5a2m56ys5LqM5Yy76ZmiIiwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBsb2dpbmluZzogZmFsc2UsDQogICAgICBydWxlRm9ybTogew0KICAgICAgICBhY2NvdW50OiAiIiwNCiAgICAgICAgcGFzc3dvcmQ6ICIiLA0KICAgICAgICBjYXB0Y2hhOiAiIiwNCiAgICAgIH0sDQogICAgICByZW1lbWJlcjogdHJ1ZSwNCiAgICB9Ow0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICByZWxvYWRjb2RlKCkgew0KICAgICAgdmFyIHZlcmlmeWltZyA9ICQoIi5pbWdjb2RlIikuYXR0cigic3JjIik7DQogICAgICAkKCIuaW1nY29kZSIpLmF0dHIoInNyYyIsIHZlcmlmeWltZy5yZXBsYWNlKC9cPy4qJC8sICIiKSArICI/IiArIE1hdGgucmFuZG9tKCkpOw0KICAgIH0sDQogICAgc3VibWl0Rm9ybShmb3JtTmFtZSkgew0KICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGxldCBwYXJhbXMgPSB0aGlzLnJ1bGVGb3JtOw0KICAgICAgICAgIHRoaXMubG9naW5pbmcgPSB0cnVlOw0KICAgICAgICAgIHNlcnZpY2UubG9naW4ocGFyYW1zKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDAxMCkgew0KICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCByZXMuZGF0YS50b2tlbikNCiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJhY2NvdW50IiwgdGhpcy5ydWxlRm9ybS5hY2NvdW50KTsNCiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJwYXNzd29yZCIsIHRoaXMucnVsZUZvcm0ucGFzc3dvcmQpOw0KICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkIik7DQogICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsDQogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgICB0aGlzLmxvZ2luaW5nID0gZmFsc2U7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvLyDliKTmlq3mmK/lkKbmmK/np7vliqjnq6/miZPlvIANCiAgICBfaXNNb2JpbGUoKSB7DQogICAgICBsZXQgZmxhZyA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goDQogICAgICAgIC8ocGhvbmV8cGFkfHBvZHxpUGhvbmV8aVBvZHxpb3N8aVBhZHxBbmRyb2lkfE1vYmlsZXxCbGFja0JlcnJ5fElFTW9iaWxlfE1RUUJyb3dzZXJ8SlVDfEZlbm5lY3x3T1NCcm93c2VyfEJyb3dzZXJOR3xXZWJPU3xTeW1iaWFufFdpbmRvd3MgUGhvbmUpL2kNCiAgICAgICk7DQogICAgICByZXR1cm4gZmxhZzsNCiAgICB9LA0KDQogICAgZm9yZ2V0UGFzcygpIHsNCiAgICAgIHRoaXMuJGVtaXQoImZvcmdldFBhc3MiKTsNCiAgICB9LA0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgaWYgKHRoaXMuX2lzTW9iaWxlKCkpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhcHAvVXBkYXRlSXNGb2xkIiwgdHJ1ZSk7IC8vIOenu+WKqOerr+aJk+W8gOWImeaKmOWPoOS+p+i+ueagjw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKQ0KICAgIC8vIHRoaXMuaGVpZ2h0PWRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0DQogICAgLy8gdmFyIGhlaWdodHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbG9naW4nKQ0KICAgIC8vICB2YXIgZGl2X2hlaWdodCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQ7DQogICAgLy8gJCgiLmxvZ2luIikuaGVpZ2h0KGRpdl9oZWlnaHQpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login/component/login","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div class=\"hospital-top\">\r\n      <img src=\"@/assets/icon/hospital.png\" alt=\"\" />\r\n    </div>\r\n    <el-form\r\n      :model=\"ruleForm\"\r\n      status-icon\r\n      ref=\"ruleForm\"\r\n      label-width=\"0px\"\r\n      class=\"loginForm\"\r\n    >\r\n      <img src=\"@/assets/icon/backgroung.png\" alt=\"\" class=\"login-background\" />\r\n      <div class=\"login-right\">\r\n        <h1 class=\"loginTitle\">医疗安全信息管理系统</h1>\r\n        <el-form-item prop=\"name\">\r\n          <el-input\r\n            type=\"text\"\r\n            class=\"logininput\"\r\n            v-model=\"ruleForm.account\"\r\n            placeholder=\"请输入账号\"\r\n            autocomplete=\"off\"\r\n            prefix-icon=\"el-icon-s-custom\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"pass\">\r\n          <el-input\r\n            type=\"password\"\r\n            class=\"logininput\"\r\n            v-model=\"ruleForm.password\"\r\n            placeholder=\"请输入密码\"\r\n            autocomplete=\"off\"\r\n            prefix-icon=\"iconfont el-icon-hospital-passwordmima\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"pass\">\r\n          <!-- <el-input type=\"select\" v-model=\"ruleForm.hospital\" placeholder=\"请输入密码\" autocomplete=\"off\" prefix-icon=\"el-icon-office-building\"></el-input> -->\r\n          <!-- <el-select\r\n            v-model=\"ruleForm.hospital\"\r\n            placeholder=\"请选择所属医院\"\r\n            prefix-icon=\"el-icon-office-building\"\r\n            class=\"selectoption\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.name\"\r\n            ></el-option>\r\n          </el-select> -->\r\n\r\n          <img\r\n            src=\"http://bt1.wlqqlp.com:8082/api/login/captcha\"\r\n             title=\"看不清？点击切换\"\r\n            @click=\"reloadcode()\"\r\n            style=\"height:40px\"\r\n            class=\"imgcode\" />\r\n           \r\n          <el-input\r\n            placeholder=\"请输入验证码\"\r\n            v-model=\"ruleForm.captcha\"\r\n            class=\"codeinput\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <div class=\"loginRem\">\r\n          <el-checkbox\r\n            label=\"记住密码\"\r\n            v-model=\"remember\"\r\n            class=\"loginRemcheck\"\r\n          ></el-checkbox>\r\n          <el-link :underline=\"false\" type=\"primary\" @click=\"forgetPass\"\r\n            >忘记密码</el-link\r\n          >\r\n        </div>\r\n        <!-- <div class=\"loginRem\" style=\"font-size: 0.3rem; margin-top:-15px\">\r\n        注: 两个账号对应不同的路由权限 (账号/密码:admin/admin或editor/editor)  \r\n     \r\n      </div> -->\r\n        <el-form-item>\r\n          <el-button\r\n            class=\"loginButton\"\r\n            type=\"primary\"\r\n            @click=\"submitForm('ruleForm')\"\r\n            :loading=\"logining\"\r\n            >登录</el-button\r\n          >\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport service from \"@/service/index\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport { asyncRoutes } from \"@/router/index\";\r\nimport { Login } from \"@/network/Login\";\r\n\r\nexport default {\r\n  inject: [\"reload\"],\r\n  data() {\r\n    return {\r\n      src: \"http://bt1.wlqqlp.com:8082/api/login/captcha\",\r\n      height: 0,\r\n      options: [\r\n        {\r\n          id: 1,\r\n          name: \"兰州大学第二医院\",\r\n        },\r\n      ],\r\n      logining: false,\r\n      ruleForm: {\r\n        account: \"\",\r\n        password: \"\",\r\n        captcha: \"\",\r\n      },\r\n      remember: true,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    reloadcode() {\r\n      var verifyimg = $(\".imgcode\").attr(\"src\");\r\n      $(\".imgcode\").attr(\"src\", verifyimg.replace(/\\?.*$/, \"\") + \"?\" + Math.random());\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          let params = this.ruleForm;\r\n          this.logining = true;\r\n          service.login(params).then((res) => {\r\n              if (res.code === 20010) {\r\n                 localStorage.setItem('token', res.data.token)\r\n                sessionStorage.setItem(\"account\", this.ruleForm.account);\r\n                sessionStorage.setItem(\"password\", this.ruleForm.password);\r\n                this.$router.push(\"/dashboard\");\r\n                   \r\n              } else {\r\n                 this.$message({\r\n                  message: res.msg,\r\n                  type: \"error\",\r\n                  duration: 1000,\r\n                });\r\n                this.logining = false;\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              this.logining = false;\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 判断是否是移动端打开\r\n    _isMobile() {\r\n      let flag = navigator.userAgent.match(\r\n        /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i\r\n      );\r\n      return flag;\r\n    },\r\n\r\n    forgetPass() {\r\n      this.$emit(\"forgetPass\");\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if (this._isMobile()) {\r\n      this.$store.dispatch(\"app/UpdateIsFold\", true); // 移动端打开则折叠侧边栏\r\n    }\r\n  },\r\n  created() {\r\n    localStorage.clear()\r\n    // this.height=document.body.clientHeight\r\n    // var heights=document.getElementsByClassName('login')\r\n    //  var div_height = window.screen.availHeight;\r\n    // $(\".login\").height(div_height);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.login {\r\n  font-family: Verdana, Arial, Helvetica, sans-serif;\r\n  font-weight: bold;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #666ee8;\r\n  // background-color: #ffffff;\r\n\r\n  position: relative;\r\n  height: 100%;\r\n  // background-image: url('../../../public/img/background.jpeg');\r\n  background-size: 100% 100%;\r\n  &Form {\r\n    -webkit-border-radius: 20px;\r\n    border-radius: 5px;\r\n    -moz-border-radius: 20px;\r\n    background-clip: padding-box;\r\n    margin: 180px auto;\r\n    width: 50%;\r\n    height: 70%;\r\n    padding: 35px 50px 20px 50px;\r\n    background-image: linear-gradient(to right, #ffffff, #ffffff);\r\n    border: 1px solid #ffffff;\r\n    box-shadow: 0 0 10px #474747;\r\n  }\r\n  &Title {\r\n    margin: 0 0 20px 0;\r\n    text-align: center;\r\n    font-size: 1.6rem;\r\n  }\r\n  &Button {\r\n    width: 40%;\r\n    background: #666ee8;\r\n    border: none;\r\n  }\r\n  &Rem {\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    align-items: flex-start;\r\n    margin-bottom: 20px;\r\n    // border: 1px solid red\r\n  }\r\n  .login-background {\r\n    width: 40%;\r\n    margin-top: 10%;\r\n  }\r\n  .login-right {\r\n    width: 50%;\r\n    //  text-align: right;\r\n    float: right;\r\n    margin-top: 30px;\r\n  }\r\n  .login-right h1 {\r\n    margin-bottom: 40px;\r\n    color: #000;\r\n  }\r\n  .el-form-item__content {\r\n    background-color: rgba(102, 110, 232, 0.0980392156862745);\r\n  }\r\n  .logininput {\r\n    background-color: rgba(102, 110, 232, 0.0980392156862745);\r\n    width: 90%;\r\n  }\r\n  .selectoption {\r\n    width: 90%;\r\n    background-color: rgba(102, 110, 232, 0.0980392156862745);\r\n    color: rgba(102, 110, 232, 0.0980392156862745);\r\n  }\r\n  .hospital-top {\r\n    position: absolute;\r\n    top: 10px;\r\n    left: 10px;\r\n    width: 43px;\r\n    height: 36.99px;\r\n    padding-top: 5px;\r\n    background: rgb(255, 255, 255);\r\n    border-radius: 180px;\r\n  }\r\n\r\n  .loginRem {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 10px 30px 20px;\r\n    margin-top: 80px;\r\n  }\r\n  .imgcode {\r\n    position: absolute;\r\n    left: 25px;\r\n    // width: 120px;\r\n  }\r\n  .codeinput {\r\n    position: absolute;\r\n    right: 25px;\r\n    width: 40%;\r\n  }\r\n  .clickcode{\r\n    font-size:6px;\r\n    position: absolute;\r\n     left: 155px;\r\n     color: #666ee8;\r\n  }\r\n}\r\n</style>\r\n"]}]}