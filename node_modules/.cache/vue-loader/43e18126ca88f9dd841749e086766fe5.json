{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\H-Ade\\components\\MainPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\H-Ade\\components\\MainPage.vue","mtime":1610279119094},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzZXJ2aWNlIGZyb20gIkAvc2VydmljZS9pbmRleCI7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDmo4DntKIKICAgICAgc2VhcmNoOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgZGF0ZTogJycsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIHZhbHVlMTogJycKICAgICAgfSwKICAgICAgcGlja2VyT3B0aW9uczogewogICAgICAgIHNob3J0Y3V0czogW3sKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDlkagnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KTsKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5Liq5pyIJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogMzApOwogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuInkuKrmnIgnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCk7CiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSwKICAgICAgb3B0aW9uczogW10sLy/lj5HnlJ/lnLDngrkKICAgICAgb3B0aW9uczE6IFtdLC8v6L276YeN56iL5bqmCiAgICAgIC8vIOWGheWuuQogICAgICB0YWJsZURhdGE6IFtdLC8v6KGo5qC85YaF5a65CiAgICAgIGRldGFpbHM6IHt9LCAvL+afpeeciwogICAgICBhZGRjb246IFtdLCAvL+aWsOWinumHjOmdoueahAogICAgICByZXN1bHREYXRhOltdLC8v5pCc57Si5ZCO5pS+572u5paw55qE5YC8CiAgICAgIGN1cnJlbnRQYWdlNDogMQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaWsOWingogICAgQWRkKCkgewogICAgICB0aGlzLiRlbWl0KCdwYWdlQWRkJykKICAgIH0sCiAgICAvLyDmn6XnnIsKICAgIGhhbmRsZUNsaWNrKHJvdywgaW5kZXgpIHsKICAgICAgLy8gY29uc29sZS5sb2coaW5kZXguaWQpCiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgaWQ6IGluZGV4LmlkCiAgICAgIH0KICAgICAgc2VydmljZS5iYWRTZWUocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDAxMCkgewogICAgICAgICAgdGhpcy4kZW1pdCgncGFnZURldGFpbCcpCiAgICAgICAgICB0aGlzLmRldGFpbHMgPSByZXMuZGF0YQogICAgICAgICAgdGhpcy5idXMuJGVtaXQoJ2RldGFpbCcsIHRoaXMuZGV0YWlscykKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5pCc57Si5LqL5Lu2CiAgICBzY3JlZW4oKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VhcmNoKQogICAgICAKICAgIH0sCiAgICAgLy/ml7bpl7TmoLzlvI/ljJYgCiAgICBnZXRkYXRlOmZ1bmN0aW9uKHJvdywgY29sdW1uKSB7IAogICAgICB2YXIgZGF0ZSA9IHJvd1tjb2x1bW4ucHJvcGVydHldOyAKICAgaWYgKGRhdGUgPT0gdW5kZWZpbmVkKSB7IAogICAgIHJldHVybiAiIjsgCiAgIH0gCiAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIik7IAogICAgfSAsCiAgICAvLyDliIbpobUKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKGDmr4/pobUgJHt2YWx9IOadoWApOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIOS4jeiJr+WIl+ihqAogICAgc2VydmljZS5BZGVMaXN0KCkudGhlbihyZXMgPT4gewogICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhIAogICAgfSkKICAgIC8vIOS4i+aLieahhuWGheWuuQogICAgc2VydmljZS5BZGVTZWwoKS50aGVuKHJlcz0+ewogICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgIHRoaXMub3B0aW9ucz1yZXMuYWRkcmVzcwogICAgICB0aGlzLm9wdGlvbnMxPXJlcy5kZWdyZWVfd2VpZ2h0CiAgICB9KQogIH0sCn0K"},{"version":3,"sources":["MainPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MainPage.vue","sourceRoot":"src/views/H-Ade/components","sourcesContent":["<template>\r\n  <div class=\"mainBl\">\r\n    <!-- 头部按钮 -->\r\n    <div class=\"header\">\r\n      <h4>不良事件</h4>\r\n      <div class=\"btn\">\r\n        <i class=\"el-icon-circle-plus-outline\" @click=\"Add()\">&nbsp;<span>新增不良</span></i>\r\n        <i class=\"fa fa-sign-in\" aria-hidden=\"true\">&nbsp;&nbsp;&nbsp;&nbsp;<span>导出</span></i>\r\n      </div>\r\n    </div>\r\n    <!-- 检索 -->\r\n    <div class=\"searchAll\">\r\n      <el-form ref=\"form\" :model=\"search\">\r\n        <div class=\"searchAll_search\">\r\n          <el-form-item label=\"患者姓名\">\r\n            <el-input v-model=\"search.name\" placeholder=\"请输入内容\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"发生地点\">\r\n            <el-select v-model=\"search.value\" placeholder=\"请选择\">\r\n              <el-option v-for=\"item in options\" :key=\"item.id\" :label=\"item.title\" :value=\"item.title\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"事发日期\">\r\n            <el-date-picker v-model=\"search.date\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" type=\"daterange\" align=\"right\" unlink-panels range-separator=\"至\"\r\n              start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" :picker-options=\"pickerOptions\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"searchAll_search\">\r\n          <el-form-item label=\"轻重程度\">\r\n            <el-select style=\"width: 562px;\" v-model=\"search.value1\" placeholder=\"请选择\">\r\n              <el-option v-for=\"item in options1\" :key=\"item.id\" :label=\"item.title\" :value=\"item.title\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-button class=\"searchbtn\" type=\"primary\" icon=\"el-icon-search\" @click=\"screen()\"></el-button>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n    <!-- 内容 -->\r\n    <el-table class=\"elTable\" :data=\"tableData\">\r\n      <el-table-column prop=\"id\" label=\"序号\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"serialNum\" label=\"事件编码\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"patient_name\" label=\"患者姓名\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"sex\" label=\"性别\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"age\" label=\"年龄\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"occur_time\" :formatter=\"getdate\" label=\"事发日期\" width=\"150\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"occur_scene\" label=\"发生场所\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"degree_weight_id\" label=\"轻重程度\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"create_time\" label=\"上报时间\" width=\"150\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"department_id\" label=\"患者科室\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"create_uid\" label=\"上报人\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"handleClick(scope.$index,scope.row)\" type=\"text\" size=\"small\">查看</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <div class=\"paging\">\r\n      <div class=\"block\">\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage4\"\r\n      :page-sizes=\"[8, 10, 20]\"\r\n      :page-size=\"8\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"tableData.length\">\r\n    </el-pagination>\r\n  </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import service from \"@/service/index\";\r\n  import moment from 'moment'\r\n  export default {\r\n    components: {},\r\n    props: {},\r\n    data() {\r\n      return {\r\n        // 检索\r\n        search: {\r\n          name: '',\r\n          date: '',\r\n          value: '',\r\n          value1: ''\r\n        },\r\n        pickerOptions: {\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        },\r\n        options: [],//发生地点\r\n        options1: [],//轻重程度\r\n        // 内容\r\n        tableData: [],//表格内容\r\n        details: {}, //查看\r\n        addcon: [], //新增里面的\r\n        resultData:[],//搜索后放置新的值\r\n        currentPage4: 1\r\n      };\r\n    },\r\n    methods: {\r\n      // 新增\r\n      Add() {\r\n        this.$emit('pageAdd')\r\n      },\r\n      // 查看\r\n      handleClick(row, index) {\r\n        // console.log(index.id)\r\n        let params = {\r\n          id: index.id\r\n        }\r\n        service.badSee(params).then(res => {\r\n          console.log(res)\r\n          if (res.code == 20010) {\r\n            this.$emit('pageDetail')\r\n            this.details = res.data\r\n            this.bus.$emit('detail', this.details)\r\n          }\r\n        })\r\n      },\r\n      // 搜索事件\r\n      screen() {\r\n        console.log(this.search)\r\n        \r\n      },\r\n       //时间格式化 \r\n      getdate:function(row, column) { \r\n        var date = row[column.property]; \r\n     if (date == undefined) { \r\n       return \"\"; \r\n     } \r\n     return moment(date).format(\"YYYY-MM-DD HH:mm:ss\"); \r\n      } ,\r\n      // 分页\r\n      handleSizeChange(val) {\r\n        console.log(`每页 ${val} 条`);\r\n      },\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n      }\r\n    },\r\n    created() {\r\n      // 不良列表\r\n      service.AdeList().then(res => {\r\n        this.tableData = res.data \r\n      })\r\n      // 下拉框内容\r\n      service.AdeSel().then(res=>{\r\n        // console.log(res)\r\n        this.options=res.address\r\n        this.options1=res.degree_weight\r\n      })\r\n    },\r\n  }\r\n</script>\r\n<style>\r\n</style>"]}]}