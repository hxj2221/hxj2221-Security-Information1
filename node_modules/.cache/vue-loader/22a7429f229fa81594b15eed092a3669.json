{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\H-Edit\\component\\addpow.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\src\\views\\H-Edit\\component\\addpow.vue","mtime":1610002659112},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\2021后台\\Security-Information\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhZGRwb3dlciB9IGZyb20gIi4uLy4uLy4uL25ldHdvcmsvSC1lZGl0IjsNCmltcG9ydCB7IHNhdmVwb3dlciB9IGZyb20gIi4uLy4uLy4uL25ldHdvcmsvSC1lZGl0IjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcmFkaW86IDMsDQogICAgICByb2xlY3JlYXRlOiAiIiwNCiAgICAgIHJvbGVOYW1laXB0OiAiIiwNCiAgICAgIHNlbGM6ICIxMjM0NTYiLA0KICAgICAgc2VsdmFsdWU6ICIiLA0KICAgICAgcG93cHg6ICIiLA0KICAgICAgcG93c3RhdHU6ICIiLA0KICAgICAgcG93bGFiOiAiIiwNCiAgICAgIHBvd2ljb246ICIiLA0KICAgICAgcG93YXBzOiAiIiwNCg0KICAgICAgc2VsZGF0YTogW10sDQoNCiAgICAgIGRhdGFzOiBbDQogICAgICAgIHsNCiAgICAgICAgICBsaXN0VGl0bGU6ICLmqKHlnZcxIiwNCiAgICAgICAgICBpZDogMSwNCiAgICAgICAgICBzZWxlY3RlZDogW10sDQogICAgICAgICAgbmFtZTogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBuYW1lOiAi5Yqf6IO9MTEiLA0KICAgICAgICAgICAgICBpZDogMTEsDQogICAgICAgICAgICAgIGluZm86IDAsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBuYW1lOiAi5Yqf6IO9MTIiLA0KICAgICAgICAgICAgICBpZDogMTIsDQogICAgICAgICAgICAgIGluZm86IDAsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBuYW1lOiAi5Yqf6IO9MTMiLA0KICAgICAgICAgICAgICBpZDogMTMsDQogICAgICAgICAgICAgIGluZm86IDAsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBuYW1lOiAi5Yqf6IO9MTQiLA0KICAgICAgICAgICAgICBpZDogMTQsDQogICAgICAgICAgICAgIGluZm86IDAsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBuYW1lOiAi5Yqf6IO9MTUiLA0KICAgICAgICAgICAgICBpZDogMTUsDQogICAgICAgICAgICAgIGluZm86IDAsDQogICAgICAgICAgICB9LA0KICAgICAgICAgIF0sDQogICAgICAgIH0sDQogICAgICBdLA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgYWRkcG93ZXIoKS50aGVuKChyZXMpID0+IHsNCiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEpOw0KICAgICAgdGhpcy5zZWxkYXRhID0gcmVzLmRhdGEuZGF0YTsNCiAgICB9KTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNlbGNoYW5nKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5zZWx2YWx1ZSk7DQogICAgfSwNCiAgICAvLyAgIOS/neWtmA0KICAgIGFkZHBvd3llcygpIHsNCiAgICAgIGNvbnNvbGUubG9nKA0KICAgICAgICB0aGlzLnNlbHZhbHVlLA0KICAgICAgICB0aGlzLnBvd3B4LA0KICAgICAgICB0aGlzLnBvd3N0YXR1LA0KICAgICAgICB0aGlzLnBvd2xhYiwNCiAgICAgICAgdGhpcy5wb3dpY29uLA0KICAgICAgICB0aGlzLnBvd2Fwcw0KICAgICAgKTsNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBzb3J0OiB0aGlzLnBvd3B4LA0KICAgICAgICBzdGF0dXM6IHRoaXMucG93c3RhdHUsDQogICAgICAgIHRpdGxlOiB0aGlzLnBvd2xhYiwNCiAgICAgICAgaWNvbjogdGhpcy5wb3dpY29uLA0KICAgICAgICBwaWQ6IHRoaXMuc2VsdmFsdWUsDQogICAgICAgIG5hbWU6IHRoaXMucG93YXBzLA0KICAgICAgfTsNCiAgICAgIHNhdmVwb3dlcihkYXRhKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgYWxlcnQocmVzLmRhdGEubXNnKTsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIH0pOw0KICAgICAgLy8gY29uc3QgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoew0KICAgICAgLy8gICBsb2NrOiB0cnVlLA0KICAgICAgLy8gICB0ZXh0OiAi5L+d5a2Y5LitIiwNCiAgICAgIC8vICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsDQogICAgICAvLyAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiLA0KICAgICAgLy8gfSk7DQogICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgIC8vICAgbG9hZGluZy5jbG9zZSgpOw0KICAgICAgLy8gfSwgMjAwMCk7DQogICAgICAvLyBjb25zb2xlLmxvZygpOw0KICAgICAgLy/ot7PovawNCiAgICAgIC8vdGhpcy4kcGFyZW50LmZhdGhyb2xleWVzKCk7DQogICAgfSwNCiAgICAvLyDlj5bmtogNCiAgICBhZGRwb3dubygpIHsNCiAgICAgIHRoaXMuJHBhcmVudC5mYXRocm9sZW5vKCk7DQogICAgfSwNCiAgICAvLyAgIOaooeWdl+WKn+iDvQ0KICAgIGlzVGl0bGVDaGVja2VkKGRhdGEpIHsNCiAgICAgIHZhciBfc2VsZWN0ZWQgPSBkYXRhLnNlbGVjdGVkOw0KICAgICAgdmFyIF9uYW1lID0gZGF0YS5uYW1lOw0KICAgICAgLy8g6aqM6K+Bc2VsZWN0ZWTkuK3mmK/lkKblkKvmnInlhajpg6jnmoRpdGVt55qEaWQg5aaC5p6c5pivIOivgeaYjnRpdGxl6KaB6YCJ5LitDQogICAgICByZXR1cm4gX25hbWUuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHsNCiAgICAgICAgcmV0dXJuIF9zZWxlY3RlZC5pbmRleE9mKGl0ZW0pICE9IC0xOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBjaGFuZ2VUaXRsZUNoZWNrZWQoZGF0YSwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkgew0KICAgICAgICBkYXRhLm5hbWUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgew0KICAgICAgICAgIGRhdGEuc2VsZWN0ZWQuaW5kZXhPZihpdGVtKSA9PT0gLTEgJiYgZGF0YS5zZWxlY3RlZC5wdXNoKGl0ZW0pOw0KICAgICAgICB9KTsNCiAgICAgICAgY29uc29sZS5sb2coZGF0YS5uYW1lKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGRhdGEuc2VsZWN0ZWQgPSBbXTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoYW5nZUFsbENoZWNrZWQoZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLmRhdGFzLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgICBkYXRhLm5hbWUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgew0KICAgICAgICAgICAgZGF0YS5zZWxlY3RlZC5pbmRleE9mKGl0ZW0pID09PSAtMSAmJiBkYXRhLnNlbGVjdGVkLnB1c2goaXRlbSk7DQogICAgICAgICAgfSk7DQogICAgICAgICAgY29uc29sZS5sb2coZGF0YS5pZCk7DQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kYXRhcy5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7DQogICAgICAgICAgZGF0YS5zZWxlY3RlZCA9IFtdOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGlzQWxsQ2hlY2tlZCgpIHsNCiAgICAgIHJldHVybiB0aGlzLmRhdGFzLmV2ZXJ5KGZ1bmN0aW9uIChkYXRhKSB7DQogICAgICAgIHJldHVybiBkYXRhLnNlbGVjdGVkLmxlbmd0aCA9PT0gZGF0YS5uYW1lLmxlbmd0aDsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgY2hhbmdlc29uYyhlKSB7DQogICAgICBjb25zb2xlLmxvZyhlKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["addpow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addpow.vue","sourceRoot":"src/views/H-Edit/component","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <p\r\n        style=\"\r\n          display: flex;\r\n          margin-left: 15px;\r\n          font-size: 20px;\r\n          color: #858bed;\r\n          font-weight: bold;\r\n        \"\r\n      >\r\n        权限分配\r\n      </p>\r\n      <div class=\"roleF\">\r\n        <table class=\"roleTab\">\r\n          <tr style=\"background-color: #c2c5f6\">\r\n            <td style=\"margin-left: 83px\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"all-checked\"\r\n                :checked=\"isAllChecked()\"\r\n                @change=\"changeAllChecked($event)\"\r\n              /><span style=\"font-size: 14px; margin-left: 5px\">模块</span>\r\n              <span style=\"font-size: 14px; margin-left: 42px\">功能</span>\r\n            </td>\r\n          </tr>\r\n          <tr v-for=\"data in datas\" :key=\"data.id\">\r\n            <td class=\"roleTd\">\r\n              <span style=\"font-size: 14px\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"\"\r\n                  :id=\"data.listTitle\"\r\n                  :checked=\"isTitleChecked(data)\"\r\n                  @change=\"changeTitleChecked(data, $event)\"\r\n                />\r\n                {{ data.listTitle }}\r\n              </span>\r\n\r\n              <span\r\n                v-for=\"item in data.name\"\r\n                :key=\"item.id\"\r\n                style=\"font-size: 14px; margin-left: 30px\"\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  :value=\"item\"\r\n                  v-model=\"data.selected\"\r\n                  :id=\"item.id\"\r\n                  @click=\"changesonc(item)\"\r\n                />\r\n                {{ item.name }}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n        <!-- 弹窗 -->\r\n        <!--editForm表单提交的数据-->\r\n        <el-form label-width=\"80px\" ref=\"editForm\">\r\n          <el-form-item prop=\"staffName\" label=\"上级\" width=\"120\">\r\n            <el-select\r\n              v-model=\"selvalue\"\r\n              @change=\"selchang\"\r\n              placeholder=\"请选择\"\r\n            >\r\n              <el-option value=\"作为顶级\">作为顶级 </el-option>\r\n              <template v-for=\"v in seldata\">\r\n                <el-option\r\n                  :key=\"v.id\"\r\n                  :label=\"v.title\"\r\n                  :value=\"v.id\"\r\n                ></el-option>\r\n                <template v-if=\"v._child\">\r\n                  <el-option\r\n                    v-for=\"vv in v._child\"\r\n                    :key=\"vv.id\"\r\n                    :label=\"'|——' + vv.title\"\r\n                    :value=\"vv.id\"\r\n                  >\r\n                  </el-option>\r\n                </template>\r\n              </template>\r\n              <!-- {{ selvalue }} -->\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"排序\" width=\"100\">\r\n            <el-input v-model=\"powpx\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\" width=\"100\">\r\n            <el-input v-model=\"powstatu\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"标题\" width=\"150\">\r\n            <el-input v-model=\"powlab\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"图标\" width=\"120\">\r\n            <el-input v-model=\"powicon\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"后端接口\" width=\"120\">\r\n            <el-input v-model=\"powaps\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <el-button @click=\"addpowyes\">确认</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addpower } from \"../../../network/H-edit\";\r\nimport { savepower } from \"../../../network/H-edit\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      radio: 3,\r\n      rolecreate: \"\",\r\n      roleNameipt: \"\",\r\n      selc: \"123456\",\r\n      selvalue: \"\",\r\n      powpx: \"\",\r\n      powstatu: \"\",\r\n      powlab: \"\",\r\n      powicon: \"\",\r\n      powaps: \"\",\r\n\r\n      seldata: [],\r\n\r\n      datas: [\r\n        {\r\n          listTitle: \"模块1\",\r\n          id: 1,\r\n          selected: [],\r\n          name: [\r\n            {\r\n              name: \"功能11\",\r\n              id: 11,\r\n              info: 0,\r\n            },\r\n            {\r\n              name: \"功能12\",\r\n              id: 12,\r\n              info: 0,\r\n            },\r\n            {\r\n              name: \"功能13\",\r\n              id: 13,\r\n              info: 0,\r\n            },\r\n            {\r\n              name: \"功能14\",\r\n              id: 14,\r\n              info: 0,\r\n            },\r\n            {\r\n              name: \"功能15\",\r\n              id: 15,\r\n              info: 0,\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    addpower().then((res) => {\r\n      console.log(res.data.data);\r\n      this.seldata = res.data.data;\r\n    });\r\n  },\r\n  methods: {\r\n    selchang() {\r\n      console.log(this.selvalue);\r\n    },\r\n    //   保存\r\n    addpowyes() {\r\n      console.log(\r\n        this.selvalue,\r\n        this.powpx,\r\n        this.powstatu,\r\n        this.powlab,\r\n        this.powicon,\r\n        this.powaps\r\n      );\r\n      let data = {\r\n        sort: this.powpx,\r\n        status: this.powstatu,\r\n        title: this.powlab,\r\n        icon: this.powicon,\r\n        pid: this.selvalue,\r\n        name: this.powaps,\r\n      };\r\n      savepower(data).then((res) => {\r\n        alert(res.data.msg);\r\n        console.log(res);\r\n      });\r\n      // const loading = this.$loading({\r\n      //   lock: true,\r\n      //   text: \"保存中\",\r\n      //   spinner: \"el-icon-loading\",\r\n      //   background: \"rgba(0, 0, 0, 0.7)\",\r\n      // });\r\n      // setTimeout(() => {\r\n      //   loading.close();\r\n      // }, 2000);\r\n      // console.log();\r\n      //跳转\r\n      //this.$parent.fathroleyes();\r\n    },\r\n    // 取消\r\n    addpowno() {\r\n      this.$parent.fathroleno();\r\n    },\r\n    //   模块功能\r\n    isTitleChecked(data) {\r\n      var _selected = data.selected;\r\n      var _name = data.name;\r\n      // 验证selected中是否含有全部的item的id 如果是 证明title要选中\r\n      return _name.every(function (item) {\r\n        return _selected.indexOf(item) != -1;\r\n      });\r\n    },\r\n    changeTitleChecked(data, event) {\r\n      if (event.target.checked === true) {\r\n        data.name.forEach(function (item) {\r\n          data.selected.indexOf(item) === -1 && data.selected.push(item);\r\n        });\r\n        console.log(data.name);\r\n      } else {\r\n        data.selected = [];\r\n      }\r\n    },\r\n    changeAllChecked(event) {\r\n      if (event.target.checked === true) {\r\n        this.datas.forEach(function (data) {\r\n          data.name.forEach(function (item) {\r\n            data.selected.indexOf(item) === -1 && data.selected.push(item);\r\n          });\r\n          console.log(data.id);\r\n        });\r\n      } else {\r\n        this.datas.forEach(function (data) {\r\n          data.selected = [];\r\n        });\r\n      }\r\n    },\r\n    isAllChecked() {\r\n      return this.datas.every(function (data) {\r\n        return data.selected.length === data.name.length;\r\n      });\r\n    },\r\n    changesonc(e) {\r\n      console.log(e);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}